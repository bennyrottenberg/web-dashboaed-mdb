{"version":3,"sources":["webpack:///./src/pages/advanced-ui/dragula.vue","webpack:///src/pages/advanced-ui/dragula.vue","webpack:///./src/pages/advanced-ui/dragula.vue?045d","webpack:///./src/pages/advanced-ui/dragula.vue?e32f","webpack:///./node_modules/vue2-dragula/dist/vue-dragula.js"],"names":["render","_vm","this","_c","_self","staticClass","_m","_v","directives","name","rawName","value","colOne","expression","attrs","_l","text","key","on","onClick","_s","colTwo","staticRenderFns","Vue","use","Vue2Dragula","logging","service","data","categories","created","$dragula","$service","options","copy","methods","window","alert","testModify","component","global","factory","exports","commonjsGlobal","self","interopDefault","ex","createCommonjsModule","fn","module","atoa","a","n","Array","prototype","slice","call","atoa$1","require$$1","Object","freeze","default","ticky","tick","si","setImmediate","process","nextTick","setTimeout","ticky$1","require$$0$1","debounce","args","ctx","apply","debounce$1","require$$0","emitter","thing","opts","evt","undefined","type","push","once","_once","off","c","arguments","length","et","splice","indexOf","emit","emitterSnapshot","shift","throws","forEach","listen","async","emitter$1","require$$2","index","NativeCustomEvent","CustomEvent","useNative","p","detail","foo","e","document","createEvent","params","initCustomEvent","bubbles","cancelable","createEventObject","Boolean","index$1","require$$1$2","eventmap","eventname","ron","test","eventmap$1","require$$0$2","crossvent","customEvent","doc","addEvent","addEventEasy","removeEvent","removeEventEasy","hardCache","el","capturing","addEventListener","addEventHard","attachEvent","wrap","removeEventListener","removeEventHard","listener","unwrap","detachEvent","fabricateEvent","model","makeCustomEvent","makeClassicEvent","initEvent","dispatchEvent","fireEvent","wrapperFactory","originalEvent","event","target","srcElement","preventDefault","returnValue","stopPropagation","cancelBubble","which","keyCode","wrapper","element","i","find","item","add","remove","fabricate","crossvent$1","require$$1$1","classes","cache","start","end","lookupClass","className","cached","lastIndex","RegExp","addClass","current","rmClass","replace","trim","rm","classes$1","add$1","require$$0$3","dragula","documentElement","initialContainers","_mirror","_source","_item","_offsetX","_offsetY","_moveX","_moveY","_initialSibling","_currentSibling","_copy","_renderTimer","len","isArray","_grabbed","_lastDropTarget","o","moves","always","accepts","invalid","invalidTarget","containers","isContainer","never","copySortSource","revertOnSpill","removeOnSpill","direction","ignoreInputTextSelection","mirrorContainer","body","drake","manualStart","cancel","destroy","canMove","dragging","spillOver","spillOut","events","op","touchy","grab","release","eventualMovements","startBecauseMouseMoved","movements","preventGrabbed","clientX","clientY","ignore","whichMouseButton","metaKey","ctrlKey","context","canStart","isInput","focus","getCoord","elementBehindCursor","elementFromPoint","grabbed","offset","getOffset","left","top","renderMirrorImage","drag","handle","getParent","source","movable","nextEl","isCopy","cloneNode","drop","ungrab","getElementBehindPoint","dropTarget","findDropTarget","parent","removeChild","isInitialPlacement","cleanup","revert","reverts","initial","insertBefore","removeMirrorImage","clearTimeout","s","sibling","accepted","droppable","immediate","getImmediateChild","reference","getReference","x","y","style","changed","out","over","moved","rect","getBoundingClientRect","width","getRectWidth","height","getRectHeight","appendChild","horizontal","inside","outside","children","resolve","after","container","touch","mouseup","mousedown","mousemove","pointers","microsoft","navigator","pointerEnabled","msPointerEnabled","touches","buttons","button","getScroll","scrollProp","offsetProp","clientHeight","point","state","right","bottom","parentNode","tagName","isEditable","contentEditable","nextElementSibling","manually","nextSibling","nodeType","getEventHost","targetTouches","changedTouches","coord","host","missMap","pageX","pageY","dragula$1","classCallCheck","instance","Constructor","TypeError","createClass","defineProperties","props","descriptor","enumerable","configurable","writable","defineProperty","protoProps","staticProps","inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","possibleConstructorReturn","ReferenceError","raf","requestAnimationFrame","raffy","winTimeout","waitForTransition","isObject","obj","DragHandler","_ref","dragElm","dragIndex","dropIndex","sourceModel","serviceName","modelManager","eventBus","findModelForContainer","bind","domIndexOf","_console","shouldLog","_len","_key","console","log","clazzName","concat","removeAt","move","targetModel","dropElmModel","elements","insertAt","transitModel","models","transit","indexes","_this","dropElm","notCopy","getModel","jsonDropElmModel","cancelDrop","insertModel","dropModelSame","dropModelTarget","eventName","$emit","serviceEventName","location","createFor","removeModel","dropEl","dropModel","at","stringable","md","jsonStr","JSON","stringify","parse","get","dragHandler","BaseModelManager","modelRef","notYet","ModelManager","_BaseModelManager","getPrototypeOf","createModel","splicedModel","removedModel","modelAfterInsert","splicedRemainder","remainder","modelAfterRemove","movedModel","Error","createDragHandler","createModelManager","DragulaService","drakes","_events","eventNames","filter","includes","_len2","_key2","msg","error","method","_validate","drakeNames","errMsg","handleModels","initEvents","setupEvents","registered","_this2","handlerConfig","keys","handlerName","handlerFunction","$on","_delete","noOpts","argEventMap","argsEventMap","defaultEvent","replicate","calcOpts","child","findModelContainerByContainer","found","_argsEventMap","defaultArgsEventMap","set","customArgsEventMap","cloned","clone","original","dragend","defaults","createService","createEventBus","isEmpty","str","VueDragula","logPlugin","plugin","logServiceConfig","_console2","logDir","_console3","directive","_len3","_key3","_createService","warn","appService","globalName","Dragula","setOptions","createServices","serviceOpts","_serviceMap","names","assign","createOpts","drakesFor","reduce","drakeName","drakeOpts","serviceNames","values","drakeContainers","findService","vnode","_dragula","componentService","calcNames","updateDirective","binding","oldVnode","newValue","_calcNames","dc","modelContainer","_calcNames2","newDrake","update","version","componentUpdated","inserted","unbind","_calcNames3","containerIndex","TimeMachine","history","createHistory","timeIndex","updateModelRef","timeTravel","newModel","createDefaultTimeMachine","ImmutableModelManager","_ModelManager","timeOut","createTimeMachine","timeMachine","undo","redo","addToHistory","before","exclAfter","actionUpdateModel","itemsBefore","sliceBefore","itemsAfter","_sliceAfter","_createNewModelFromInsert","insertItem","_model","ActionManager","observer","action","actions","done","undone","actFun","cDo","do","cUndo","pop","isSourceContainerAction","doAct","isTargetContainerAction","emitAction","fun","installed"],"mappings":"yHAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,UAAU,CAACE,YAAY,WAAW,CAACJ,EAAIK,GAAG,GAAGH,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,MAAM,CAACE,YAAY,yBAAyB,CAACF,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,KAAK,CAACE,YAAY,cAAc,CAACJ,EAAIM,GAAG,oBAAoBJ,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,MAAM,CAACE,YAAY,UAAU,CAACF,EAAG,IAAI,CAACE,YAAY,oBAAoB,CAACJ,EAAIM,GAAG,6CAA6CJ,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,MAAM,CAACE,YAAY,sBAAsB,CAACF,EAAG,KAAK,CAACE,YAAY,cAAc,CAACJ,EAAIM,GAAG,YAAYJ,EAAG,MAAM,CAACK,WAAW,CAAC,CAACC,KAAK,UAAUC,QAAQ,YAAYC,MAAOV,EAAIW,OAAQC,WAAW,WAAWR,YAAY,mBAAmBS,MAAM,CAAC,MAAQ,UAAUb,EAAIc,GAAId,EAAIW,QAAQ,SAASI,GAAM,OAAOb,EAAG,MAAM,CAACc,IAAID,EAAKE,GAAG,CAAC,MAAQjB,EAAIkB,UAAU,CAAChB,EAAG,MAAM,CAACE,YAAY,qBAAqB,CAACF,EAAG,MAAM,CAACE,YAAY,iBAAiB,CAACF,EAAG,MAAM,CAACE,YAAY,SAAS,CAACF,EAAG,MAAM,CAACE,YAAY,UAAU,CAACF,EAAG,MAAM,CAACA,EAAG,KAAK,CAACE,YAAY,QAAQ,CAACJ,EAAIM,GAAGN,EAAImB,GAAGJ,qBAAuB,KAAKb,EAAG,MAAM,CAACE,YAAY,sBAAsB,CAACF,EAAG,KAAK,CAACE,YAAY,2BAA2B,CAACJ,EAAIM,GAAG,YAAYJ,EAAG,MAAM,CAACK,WAAW,CAAC,CAACC,KAAK,UAAUC,QAAQ,YAAYC,MAAOV,EAAIoB,OAAQR,WAAW,WAAWR,YAAY,mBAAmBS,MAAM,CAAC,MAAQ,UAAUb,EAAIc,GAAId,EAAIoB,QAAQ,SAASL,GAAM,OAAOb,EAAG,MAAM,CAACc,IAAID,GAAM,CAACb,EAAG,MAAM,CAACE,YAAY,qBAAqB,CAACF,EAAG,MAAM,CAACE,YAAY,iBAAiB,CAACF,EAAG,MAAM,CAACE,YAAY,SAAS,CAACF,EAAG,MAAM,CAACE,YAAY,UAAU,CAACF,EAAG,MAAM,CAACA,EAAG,KAAK,CAACE,YAAY,QAAQ,CAACJ,EAAIM,GAAGN,EAAImB,GAAGJ,qBAAuB,sBAEzmDM,EAAkB,CAAC,WAAY,IAAIrB,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,KAAK,CAACE,YAAY,cAAc,CAACJ,EAAIM,GAAG,eAAeJ,EAAG,MAAM,CAACW,MAAM,CAAC,aAAa,eAAe,CAACX,EAAG,KAAK,CAACE,YAAY,cAAc,CAACF,EAAG,KAAK,CAACE,YAAY,mBAAmB,CAACF,EAAG,IAAI,CAACW,MAAM,CAAC,KAAO,wBAAwB,CAACb,EAAIM,GAAG,mBAAmBJ,EAAG,KAAK,CAACE,YAAY,yBAAyBS,MAAM,CAAC,eAAe,SAAS,CAACb,EAAIM,GAAG,qB,wBCwEhcgB,aAAAC,IAAAC,iBAAA,CACAC,QAAA,CACAC,SAAA,KAGe,OACflB,KAAA,gBAEAmB,KAAA,WACA,OACAhB,OAAA,CACA,gBACA,cACA,aAEAS,OAAA,CACA,cACA,gBACA,cAEAQ,WAAA,CACA,QACA,WAIAC,QAAA,WAEA,IAAAH,EAAA,KAAAI,SAAAC,SAMAL,EAAAM,QAAA,YAGAN,EAAAM,QAAA,aAGAN,EAAAM,QAAA,SACAC,MAAA,KAKAC,QAAA,CACAhB,QAAA,WACAiB,OAAAC,MAAA,gBAEAC,WAAA,WACA,KAAAT,WAAA,CACA,cACA,kBC/HgW,I,YCO5VU,EAAY,eACd,EACAvC,EACAsB,GACA,EACA,KACA,KACA,MAIa,aAAAiB,E,iCClBf;;;;;IAKC,SAAUC,EAAQC,GAC6CA,EAAQC,IADxE,CAIExC,GAAM,SAAUwC,GAAW,aAE5B,IAAIC,EAAmC,qBAAXP,OAAyBA,OAA2B,qBAAXI,EAAyBA,EAAyB,qBAATI,KAAuBA,KAAO,GAE5I,SAASC,EAAeC,GACvB,OAAOA,GAAoB,kBAAPA,GAAmB,YAAaA,EAAKA,EAAG,WAAaA,EAG1E,SAASC,EAAqBC,EAAIC,GACjC,OAAOA,EAAS,CAAEP,QAAS,IAAMM,EAAGC,EAAQA,EAAOP,SAAUO,EAAOP,QAGrE,IAAIQ,EAAOH,GAAqB,SAAUE,GACxCA,EAAOP,QAAU,SAAcS,EAAGC,GAChC,OAAOC,MAAMC,UAAUC,MAAMC,KAAKL,EAAGC,OAIrCK,EAASZ,EAAeK,GAEzBQ,EAAaC,OAAOC,OAAO,CAC5BC,QAASJ,IAGPK,EAAQf,GAAqB,SAAUE,GACzC,IACIc,EADAC,EAA6B,oBAAjBC,aAGdF,EADEC,EACK,SAAchB,GACnBiB,aAAajB,IAEa,qBAAZkB,GAA2BA,EAAQC,SAC5CD,EAAQC,SAER,SAAcnB,GACnBoB,WAAWpB,EAAI,IAInBC,EAAOP,QAAUqB,KAGfM,EAAUxB,EAAeiB,GAE1BQ,EAAeX,OAAOC,OAAO,CAC9BC,QAASQ,IAGPE,EAAWxB,GAAqB,SAAUE,GAG5C,IAAIa,EAAQjB,EAAeyB,GAE3BrB,EAAOP,QAAU,SAAkBM,EAAIwB,EAAMC,GACtCzB,GAGLc,GAAM,WACJd,EAAG0B,MAAMD,GAAO,KAAMD,GAAQ,WAKhCG,EAAa9B,EAAe0B,GAE7BK,EAAajB,OAAOC,OAAO,CAC5BC,QAASc,IAGPE,EAAU9B,GAAqB,SAAUE,GAG3C,IAAIC,EAAOL,EAAea,GACtBa,EAAW1B,EAAe+B,GAE9B3B,EAAOP,QAAU,SAAiBoC,EAAO7C,GACvC,IAAI8C,EAAO9C,GAAW,GAClB+C,EAAM,GAyDV,YAxDcC,IAAVH,IACFA,EAAQ,IAEVA,EAAM5D,GAAK,SAAUgE,EAAMlC,GAMzB,OALKgC,EAAIE,GAGPF,EAAIE,GAAMC,KAAKnC,GAFfgC,EAAIE,GAAQ,CAAClC,GAIR8B,GAETA,EAAMM,KAAO,SAAUF,EAAMlC,GAG3B,OAFAA,EAAGqC,OAAQ,EACXP,EAAM5D,GAAGgE,EAAMlC,GACR8B,GAETA,EAAMQ,IAAM,SAAUJ,EAAMlC,GAC1B,IAAIuC,EAAIC,UAAUC,OAClB,GAAU,IAANF,SACKP,EAAIE,QACN,GAAU,IAANK,EACTP,EAAM,OACD,CACL,IAAIU,EAAKV,EAAIE,GACb,IAAKQ,EACH,OAAOZ,EAETY,EAAGC,OAAOD,EAAGE,QAAQ5C,GAAK,GAE5B,OAAO8B,GAETA,EAAMe,KAAO,WACX,IAAIrB,EAAOtB,EAAKsC,WAChB,OAAOV,EAAMgB,gBAAgBtB,EAAKuB,SAASrB,MAAMxE,KAAMsE,IAEzDM,EAAMgB,gBAAkB,SAAUZ,GAChC,IAAIQ,GAAMV,EAAIE,IAAS,IAAI3B,MAAM,GACjC,OAAO,WACL,IAAIiB,EAAOtB,EAAKsC,WACZf,EAAMvE,MAAQ4E,EAClB,GAAa,UAATI,IAAoC,IAAhBH,EAAKiB,SAAqBN,EAAGD,OACnD,MAAsB,IAAhBjB,EAAKiB,OAAejB,EAAK,GAAKA,EAYtC,OAVAkB,EAAGO,SAAQ,SAAiBC,GACtBnB,EAAKoB,MACP5B,EAAS2B,EAAQ1B,EAAMC,GAEvByB,EAAOxB,MAAMD,EAAKD,GAEhB0B,EAAOb,OACTP,EAAMQ,IAAIJ,EAAMgB,MAGbpB,IAGJA,MAIPsB,EAAYvD,EAAegC,GAE5BwB,EAAa1C,OAAOC,OAAO,CAC5BC,QAASuC,IAGPE,EAAQvD,GAAqB,SAAUE,GACzC,IAAIsD,EAAoB5D,EAAe6D,YAEvC,SAASC,IACP,IACE,IAAIC,EAAI,IAAIH,EAAkB,MAAO,CAAEI,OAAQ,CAAEC,IAAK,SACtD,MAAO,QAAUF,EAAExB,MAAQ,QAAUwB,EAAEC,OAAOC,IAC9C,MAAOC,IACT,OAAO,EAWT5D,EAAOP,QAAU+D,IAAcF,EAG/B,oBAAsBO,SAASC,YAAc,SAAqB7B,EAAM8B,GACtE,IAAIH,EAAIC,SAASC,YAAY,eAM7B,OALIC,EACFH,EAAEI,gBAAgB/B,EAAM8B,EAAOE,QAASF,EAAOG,WAAYH,EAAOL,QAElEE,EAAEI,gBAAgB/B,GAAM,GAAO,OAAO,GAEjC2B,GAIT,SAAqB3B,EAAM8B,GACzB,IAAIH,EAAIC,SAASM,oBAWjB,OAVAP,EAAE3B,KAAOA,EACL8B,GACFH,EAAEK,QAAUG,QAAQL,EAAOE,SAC3BL,EAAEM,WAAaE,QAAQL,EAAOG,YAC9BN,EAAEF,OAASK,EAAOL,SAElBE,EAAEK,SAAU,EACZL,EAAEM,YAAa,EACfN,EAAEF,YAAS,GAENE,MAIPS,EAAUzE,EAAeyD,GAE1BiB,EAAe5D,OAAOC,OAAO,CAC9BC,QAASyD,IAGPE,EAAWzE,GAAqB,SAAUE,GAG5C,IAAIuE,EAAW,GACXC,EAAY,GACZC,EAAM,MAEV,IAAKD,KAAa9E,EACZ+E,EAAIC,KAAKF,IACXD,EAASrC,KAAKsC,EAAUlE,MAAM,IAIlCN,EAAOP,QAAU8E,KAGfI,EAAa/E,EAAe2E,GAE7BK,EAAelE,OAAOC,OAAO,CAC9BC,QAAS+D,IAGPE,EAAY/E,GAAqB,SAAUE,GAG7C,IAAI8E,EAAclF,EAAe0E,GAC7BC,EAAW3E,EAAegF,GAC1BG,EAAMrF,EAAemE,SACrBmB,EAAWC,EACXC,EAAcC,EACdC,EAAY,GAahB,SAASH,EAAaI,EAAIpD,EAAMlC,EAAIuF,GAClC,OAAOD,EAAGE,iBAAiBtD,EAAMlC,EAAIuF,GAGvC,SAASE,EAAaH,EAAIpD,EAAMlC,GAC9B,OAAOsF,EAAGI,YAAY,KAAOxD,EAAMyD,EAAKL,EAAIpD,EAAMlC,IAGpD,SAASoF,EAAgBE,EAAIpD,EAAMlC,EAAIuF,GACrC,OAAOD,EAAGM,oBAAoB1D,EAAMlC,EAAIuF,GAG1C,SAASM,EAAgBP,EAAIpD,EAAMlC,GACjC,IAAI8F,EAAWC,EAAOT,EAAIpD,EAAMlC,GAChC,GAAI8F,EACF,OAAOR,EAAGU,YAAY,KAAO9D,EAAM4D,GAIvC,SAASG,EAAeX,EAAIpD,EAAMgE,GAChC,IAAIrC,GAAgC,IAA5BW,EAAS5B,QAAQV,GAAeiE,IAAoBC,IAM5D,SAASA,IACP,IAAIvC,EAOJ,OANImB,EAAIjB,aACNF,EAAImB,EAAIjB,YAAY,SACpBF,EAAEwC,UAAUnE,GAAM,GAAM,IACf8C,EAAIZ,oBACbP,EAAImB,EAAIZ,qBAEHP,EAET,SAASsC,IACP,OAAO,IAAIpB,EAAY7C,EAAM,CAAEyB,OAAQuC,IAhBrCZ,EAAGgB,cACLhB,EAAGgB,cAAczC,GAEjByB,EAAGiB,UAAU,KAAOrE,EAAM2B,GAiB9B,SAAS2C,EAAelB,EAAIpD,EAAMlC,GAChC,OAAO,SAAiByG,GACtB,IAAI5C,EAAI4C,GAAiB9G,EAAe+G,MACxC7C,EAAE8C,OAAS9C,EAAE8C,QAAU9C,EAAE+C,WACzB/C,EAAEgD,eAAiBhD,EAAEgD,gBAAkB,WACrChD,EAAEiD,aAAc,GAElBjD,EAAEkD,gBAAkBlD,EAAEkD,iBAAmB,WACvClD,EAAEmD,cAAe,GAEnBnD,EAAEoD,MAAQpD,EAAEoD,OAASpD,EAAEqD,QACvBlH,EAAGQ,KAAK8E,EAAIzB,IAIhB,SAAS8B,EAAKL,EAAIpD,EAAMlC,GACtB,IAAImH,EAAUpB,EAAOT,EAAIpD,EAAMlC,IAAOwG,EAAelB,EAAIpD,EAAMlC,GAO/D,OANAqF,EAAUlD,KAAK,CACbgF,QAASA,EACTC,QAAS9B,EACTpD,KAAMA,EACNlC,GAAIA,IAECmH,EAGT,SAASpB,EAAOT,EAAIpD,EAAMlC,GACxB,IAAIqH,EAAIC,EAAKhC,EAAIpD,EAAMlC,GACvB,GAAIqH,EAAG,CACL,IAAIF,EAAU9B,EAAUgC,GAAGF,QAE3B,OADA9B,EAAU1C,OAAO0E,EAAG,GACbF,GAIX,SAASG,EAAKhC,EAAIpD,EAAMlC,GACtB,IAAIqH,EAAGE,EACP,IAAKF,EAAI,EAAGA,EAAIhC,EAAU5C,OAAQ4E,IAEhC,GADAE,EAAOlC,EAAUgC,GACbE,EAAKH,UAAY9B,GAAMiC,EAAKrF,OAASA,GAAQqF,EAAKvH,KAAOA,EAC3D,OAAOqH,EA5FR1H,EAAe6F,mBAClBP,EAAWQ,EACXN,EAAcU,GAGhB5F,EAAOP,QAAU,CACf8H,IAAKvC,EACLwC,OAAQtC,EACRuC,UAAWzB,MA0FX0B,EAAc9H,EAAeiF,GAC7B0C,EAAM1C,EAAU0C,IAChBC,EAAS3C,EAAU2C,OACnBC,EAAY5C,EAAU4C,UAEvBE,EAAejH,OAAOC,OAAO,CAC9BC,QAAS8G,EACTH,IAAKA,EACLC,OAAQA,EACRC,UAAWA,IAGTG,EAAU9H,GAAqB,SAAUE,GAG3C,IAAI6H,EAAQ,GACRC,EAAQ,YACRC,EAAM,YAEV,SAASC,EAAYC,GACnB,IAAIC,EAASL,EAAMI,GAMnB,OALIC,EACFA,EAAOC,UAAY,EAEnBN,EAAMI,GAAaC,EAAS,IAAIE,OAAON,EAAQG,EAAYF,EAAK,KAE3DG,EAGT,SAASG,EAAShD,EAAI4C,GACpB,IAAIK,EAAUjD,EAAG4C,UACZK,EAAQ9F,OAEDwF,EAAYC,GAAWvD,KAAK4D,KACtCjD,EAAG4C,WAAa,IAAMA,GAFtB5C,EAAG4C,UAAYA,EAMnB,SAASM,EAAQlD,EAAI4C,GACnB5C,EAAG4C,UAAY5C,EAAG4C,UAAUO,QAAQR,EAAYC,GAAY,KAAKQ,OAGnEzI,EAAOP,QAAU,CACf8H,IAAKc,EACLK,GAAIH,MAIJI,EAAY/I,EAAegI,GAC3BgB,EAAQhB,EAAQL,IAChBmB,EAAKd,EAAQc,GAEdG,EAAenI,OAAOC,OAAO,CAC9BC,QAAS+H,EACTpB,IAAKqB,EACLF,GAAIA,IAGFI,EAAUhJ,GAAqB,SAAUE,GAG3C,IAAI4B,EAAUhC,EAAewD,GACzByB,EAAYjF,EAAe+H,GAC3BC,EAAUhI,EAAeiJ,GACzB9D,EAAMlB,SACNkF,EAAkBhE,EAAIgE,gBAE1B,SAASD,EAAQE,EAAmBhK,GAClC,IAKIiK,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EAfAC,EAAMrH,UAAUC,OACR,IAARoH,IAAkD,IAArCxJ,MAAMyJ,QAAQb,KAC7BhK,EAAUgK,EACVA,EAAoB,IAatB,IACIc,EADAC,EAAkB,KAGlBC,EAAIhL,GAAW,QACH,IAAZgL,EAAEC,QACJD,EAAEC,MAAQC,QAEM,IAAdF,EAAEG,UACJH,EAAEG,QAAUD,QAEI,IAAdF,EAAEI,UACJJ,EAAEI,QAAUC,QAEO,IAAjBL,EAAEM,aACJN,EAAEM,WAAatB,GAAqB,SAEhB,IAAlBgB,EAAEO,cACJP,EAAEO,YAAcC,QAEH,IAAXR,EAAE/K,OACJ+K,EAAE/K,MAAO,QAEc,IAArB+K,EAAES,iBACJT,EAAES,gBAAiB,QAEG,IAApBT,EAAEU,gBACJV,EAAEU,eAAgB,QAEI,IAApBV,EAAEW,gBACJX,EAAEW,eAAgB,QAEA,IAAhBX,EAAEY,YACJZ,EAAEY,UAAY,iBAEmB,IAA/BZ,EAAEa,2BACJb,EAAEa,0BAA2B,QAEL,IAAtBb,EAAEc,kBACJd,EAAEc,gBAAkB/F,EAAIgG,MAG1B,IAAIC,EAAQpJ,EAAQ,CAClB0I,WAAYN,EAAEM,WACdxC,MAAOmD,EACPlD,IAAKA,EACLmD,OAAQA,EACR1D,OAAQA,EACR2D,QAASA,EACTC,QAASA,EACTC,UAAU,IASZ,OANwB,IAApBrB,EAAEW,eACJK,EAAM/M,GAAG,OAAQqN,IAAWrN,GAAG,MAAOsN,IAGxCC,IAEOR,EAEP,SAAST,EAAYlF,GACnB,OAAyC,IAAlC2F,EAAMV,WAAW3H,QAAQ0C,IAAc2E,EAAEO,YAAYlF,GAG9D,SAASmG,EAAOhE,GACd,IAAIiE,EAAKjE,EAAS,SAAW,MAC7BkE,EAAO3C,EAAiB0C,EAAI,YAAaE,GACzCD,EAAO3C,EAAiB0C,EAAI,UAAWG,GAGzC,SAASC,EAAkBrE,GACzB,IAAIiE,EAAKjE,EAAS,SAAW,MAC7BkE,EAAO3C,EAAiB0C,EAAI,YAAaK,GAG3C,SAASC,EAAUvE,GACjB,IAAIiE,EAAKjE,EAAS,SAAW,MAC7B3C,EAAU4G,GAAI1C,EAAiB,cAAeiD,GAC9CnH,EAAU4G,GAAI1C,EAAiB,QAASiD,GAG1C,SAASb,IACPK,GAAO,GACPI,EAAQ,IAGV,SAASI,EAAepI,GAClBkG,GACFlG,EAAEgD,iBAIN,SAAS+E,EAAK/H,GACZ0F,EAAS1F,EAAEqI,QACX1C,EAAS3F,EAAEsI,QAEX,IAAIC,EAAiC,IAAxBC,EAAiBxI,IAAYA,EAAEyI,SAAWzI,EAAE0I,QACzD,IAAIH,EAAJ,CAGA,IAAI7E,EAAO1D,EAAE8C,OACT6F,EAAUC,EAASlF,GAClBiF,IAGLzC,EAAWyC,EACXV,IACe,cAAXjI,EAAE3B,OACAwK,EAAQnF,GAEVA,EAAKoF,QAEL9I,EAAEgD,oBAKR,SAASkF,EAAuBlI,GAC9B,GAAKkG,EAGL,GAA4B,IAAxBsC,EAAiBxI,IAKrB,QAAkB,IAAdA,EAAEqI,SAAsBrI,EAAEqI,UAAY3C,QAAwB,IAAd1F,EAAEsI,SAAsBtI,EAAEsI,UAAY3C,EAA1F,CAGA,GAAIS,EAAEa,yBAA0B,CAC9B,IAAIoB,EAAUU,EAAS,UAAW/I,GAC9BsI,EAAUS,EAAS,UAAW/I,GAC9BgJ,EAAsB7H,EAAI8H,iBAAiBZ,EAASC,GACxD,GAAIO,EAAQG,GACV,OAIJ,IAAIE,EAAUhD,EACd+B,GAAkB,GAClBE,IACAhE,IACAD,EAAMgF,GAEN,IAAIC,EAASC,EAAU7D,GACvBC,EAAWuD,EAAS,QAAS/I,GAAKmJ,EAAOE,KACzC5D,EAAWsD,EAAS,QAAS/I,GAAKmJ,EAAOG,IAEzCtF,EAAQL,IAAImC,GAASP,EAAO,cAC5BgE,KACAC,GAAKxJ,SA5BHgI,EAAQ,IA+BZ,SAASY,EAASlF,GAChB,KAAI0D,EAAMK,WAAYpC,KAGlBsB,EAAYjD,GAAhB,CAGA,IAAI+F,EAAS/F,EACb,MAAOgG,EAAUhG,KAA0C,IAAjCiD,EAAY+C,EAAUhG,IAAkB,CAChE,GAAI0C,EAAEI,QAAQ9C,EAAM+F,GAClB,OAGF,GADA/F,EAAOgG,EAAUhG,IACZA,EACH,OAGJ,IAAIiG,EAASD,EAAUhG,GACvB,GAAKiG,IAGDvD,EAAEI,QAAQ9C,EAAM+F,GAApB,CAIA,IAAIG,EAAUxD,EAAEC,MAAM3C,EAAMiG,EAAQF,EAAQI,EAAOnG,IACnD,GAAKkG,EAIL,MAAO,CACLlG,KAAMA,EACNiG,OAAQA,KAIZ,SAASnC,EAAQ9D,GACf,QAASkF,EAASlF,GAGpB,SAAS2D,EAAY3D,GACnB,IAAIiF,EAAUC,EAASlF,GACnBiF,GACFzE,EAAMyE,GAIV,SAASzE,EAAMyE,GACTmB,GAAOnB,EAAQjF,KAAMiF,EAAQgB,UAC/B7D,EAAQ6C,EAAQjF,KAAKqG,WAAU,GAC/B3C,EAAMpI,KAAK,SAAU8G,EAAO6C,EAAQjF,KAAM,SAG5C4B,EAAUqD,EAAQgB,OAClBpE,EAAQoD,EAAQjF,KAChBkC,EAAkBC,EAAkBgE,EAAOlB,EAAQjF,MAEnD0D,EAAMK,UAAW,EACjBL,EAAMpI,KAAK,OAAQuG,EAAOD,GAG5B,SAASmB,IACP,OAAO,EAGT,SAAStC,IACP,GAAKiD,EAAMK,SAAX,CAGA,IAAI/D,EAAOoC,GAASP,EACpByE,EAAKtG,EAAMgG,EAAUhG,KAGvB,SAASuG,IACP/D,GAAW,EACX+B,GAAkB,GAClBE,GAAU,GAGZ,SAASH,EAAQhI,GAGf,GAFAiK,IAEK7C,EAAMK,SAAX,CAGA,IAAI/D,EAAOoC,GAASP,EAChB8C,EAAUU,EAAS,UAAW/I,GAC9BsI,EAAUS,EAAS,UAAW/I,GAC9BgJ,EAAsBkB,EAAsB7E,EAASgD,EAASC,GAC9D6B,EAAaC,GAAepB,EAAqBX,EAASC,GAC1D6B,IAAerE,GAASM,EAAES,iBAAmBf,GAASqE,IAAe7E,GACvE0E,EAAKtG,EAAMyG,GACF/D,EAAEW,cACXnD,IAEA0D,KAIJ,SAAS0C,EAAKtG,EAAMZ,GAClB,IAAIuH,EAASX,EAAUhG,GACnBoC,GAASM,EAAES,gBAAkB/D,IAAWwC,GAC1C+E,EAAOC,YAAY/E,GAEjBgF,GAAmBzH,GACrBsE,EAAMpI,KAAK,SAAU0E,EAAM4B,EAASA,GAEpC8B,EAAMpI,KAAK,OAAQ0E,EAAMZ,EAAQwC,EAASO,GAE5C2E,KAGF,SAAS5G,IACP,GAAKwD,EAAMK,SAAX,CAGA,IAAI/D,EAAOoC,GAASP,EAChB8E,EAASX,EAAUhG,GACnB2G,GACFA,EAAOC,YAAY5G,GAErB0D,EAAMpI,KAAK8G,EAAQ,SAAW,SAAUpC,EAAM2G,EAAQ/E,GACtDkF,MAGF,SAASlD,EAAOmD,GACd,GAAKrD,EAAMK,SAAX,CAGA,IAAIiD,EAAU/L,UAAUC,OAAS,EAAI6L,EAASrE,EAAEU,cAC5CpD,EAAOoC,GAASP,EAChB8E,EAASX,EAAUhG,GACnBiH,EAAUJ,GAAmBF,IACjB,IAAZM,GAAqBD,IACnB5E,EACEuE,GACFA,EAAOC,YAAYxE,GAGrBR,EAAQsF,aAAalH,EAAMkC,IAG3B+E,GAAWD,EACbtD,EAAMpI,KAAK,SAAU0E,EAAM4B,EAASA,GAEpC8B,EAAMpI,KAAK,OAAQ0E,EAAM2G,EAAQ/E,EAASO,GAE5C2E,MAGF,SAASA,KACP,IAAI9G,EAAOoC,GAASP,EACpB0E,IACAY,KACInH,GACFM,EAAQc,GAAGpB,EAAM,cAEfqC,GACF+E,aAAa/E,GAEfqB,EAAMK,UAAW,EACbtB,GACFiB,EAAMpI,KAAK,MAAO0E,EAAMyC,EAAiBb,GAE3C8B,EAAMpI,KAAK,UAAW0E,GACtB4B,EAAUC,EAAQO,EAAQF,EAAkBC,EAAkBE,EAAeI,EAAkB,KAGjG,SAASoE,GAAmBzH,EAAQiI,GAClC,IAAIC,EAQJ,OANEA,OADQ,IAAND,EACQA,EACD1F,EACCQ,EAEAgE,EAAO/D,GAASP,GAErBzC,IAAWwC,GAAW0F,IAAYpF,EAG3C,SAASwE,GAAepB,EAAqBX,EAASC,GACpD,IAAIxF,EAASkG,EACb,MAAOlG,IAAWmI,IAChBnI,EAAS4G,EAAU5G,GAErB,OAAOA,EAEP,SAASmI,IACP,IAAIC,EAAYvE,EAAY7D,GAC5B,IAAkB,IAAdoI,EACF,OAAO,EAGT,IAAIC,EAAYC,GAAkBtI,EAAQkG,GACtCqC,EAAYC,GAAaxI,EAAQqI,EAAW9C,EAASC,GACrDqC,EAAUJ,GAAmBzH,EAAQuI,GACzC,QAAIV,GAGGvE,EAAEG,QAAQhB,EAAOzC,EAAQwC,EAAS+F,IAI7C,SAAS7B,GAAKxJ,GACZ,GAAKqF,EAAL,CAGArF,EAAEgD,iBAEF,IAAIqF,EAAUU,EAAS,UAAW/I,GAC9BsI,EAAUS,EAAS,UAAW/I,GAC9BuL,EAAIlD,EAAU7C,EACdgG,EAAIlD,EAAU7C,EAElBJ,EAAQoG,MAAMpC,KAAOkC,EAAI,KACzBlG,EAAQoG,MAAMnC,IAAMkC,EAAI,KAExB,IAAI9H,EAAOoC,GAASP,EAChByD,EAAsBkB,EAAsB7E,EAASgD,EAASC,GAC9D6B,EAAaC,GAAepB,EAAqBX,EAASC,GAC1DoD,EAAyB,OAAfvB,GAAuBA,IAAehE,GAChDuF,GAA0B,OAAfvB,KACbwB,IACAxF,EAAkBgE,EAClByB,KAEF,IAAIvB,EAASX,EAAUhG,GACvB,GAAIyG,IAAe7E,IAAWQ,GAAUM,EAAES,eAA1C,CAMA,IAAIwE,EACAF,EAAYC,GAAkBjB,EAAYnB,GAC9C,GAAkB,OAAdmC,EACFE,EAAYC,GAAanB,EAAYgB,EAAW9C,EAASC,OACpD,KAAwB,IAApBlC,EAAEU,eAA2BhB,EAOtC,YAHIA,GAASuE,GACXA,EAAOC,YAAY5G,IAJrB2H,EAAYzF,EACZuE,EAAa7E,GAOG,OAAd+F,GAAsBK,GAAWL,IAAc3H,GAAQ2H,IAAcxB,EAAOnG,MAC9EmC,EAAkBwF,EAClBlB,EAAWS,aAAalH,EAAM2H,GAC9BjE,EAAMpI,KAAK,SAAU0E,EAAMyG,EAAY7E,SArBnC+E,GACFA,EAAOC,YAAY5G,GAsBvB,SAASmI,EAAMxN,GACb+I,EAAMpI,KAAKX,EAAMqF,EAAMyC,EAAiBb,GAE1C,SAASsG,IACHF,GACFG,EAAM,QAGV,SAASF,IACHxF,GACF0F,EAAM,QAKZ,SAASnE,GAAUjG,GACjBuC,EAAQc,GAAGrD,EAAI,WAGjB,SAASkG,GAASlG,GACZ2F,EAAMK,UACRzD,EAAQL,IAAIlC,EAAI,WAIpB,SAAS8H,KACP,IAAIlE,EAAJ,CAGA,IAAIyG,EAAOvG,EAAMwG,wBACjB1G,EAAUE,EAAMwE,WAAU,GAC1B1E,EAAQoG,MAAMO,MAAQC,EAAaH,GAAQ,KAC3CzG,EAAQoG,MAAMS,OAASC,EAAcL,GAAQ,KAC7C9H,EAAQc,GAAGO,EAAS,cACpBrB,EAAQL,IAAI0B,EAAS,aACrBe,EAAEc,gBAAgBkF,YAAY/G,GAC9ByC,EAAO3C,EAAiB,MAAO,YAAaqE,IAC5CxF,EAAQL,IAAIyC,EAAEc,gBAAiB,mBAC/BE,EAAMpI,KAAK,SAAUqG,EAASE,EAAO,WAGvC,SAASsF,KACHxF,IACFrB,EAAQc,GAAGsB,EAAEc,gBAAiB,mBAC9BY,EAAO3C,EAAiB,SAAU,YAAaqE,IAC/CE,EAAUrE,GAASiF,YAAYjF,GAC/BA,EAAU,MAId,SAAS+F,GAAkBjB,EAAYrH,GACrC,IAAIqI,EAAYrI,EAChB,MAAOqI,IAAchB,GAAcT,EAAUyB,KAAehB,EAC1DgB,EAAYzB,EAAUyB,GAExB,OAAIA,IAAchG,EACT,KAEFgG,EAGT,SAASG,GAAanB,EAAYrH,EAAQyI,EAAGC,GAC3C,IAAIa,EAA6B,eAAhBjG,EAAEY,UACfqE,EAAYvI,IAAWqH,EAAamC,IAAWC,IACnD,OAAOlB,EAEP,SAASkB,IAEP,IACI/I,EACA/B,EACAqK,EAHA9F,EAAMmE,EAAWqC,SAAS5N,OAI9B,IAAK4E,EAAI,EAAGA,EAAIwC,EAAKxC,IAAK,CAGxB,GAFA/B,EAAK0I,EAAWqC,SAAShJ,GACzBsI,EAAOrK,EAAGsK,wBACNM,GAAcP,EAAKzC,KAAOyC,EAAKE,MAAQ,EAAIT,EAC7C,OAAO9J,EAET,IAAK4K,GAAcP,EAAKxC,IAAMwC,EAAKI,OAAS,EAAIV,EAC9C,OAAO/J,EAGX,OAAO,KAGT,SAAS6K,IAEP,IAAIR,EAAOhJ,EAAOiJ,wBAClB,OACSU,EADLJ,EACad,EAAIO,EAAKzC,KAAO4C,EAAaH,GAAQ,EAEvCN,EAAIM,EAAKxC,IAAM6C,EAAcL,GAAQ,GAGtD,SAASW,EAAQC,GACf,OAAOA,EAAQ7C,EAAO/G,GAAUA,GAIpC,SAASgH,GAAOpG,EAAMiJ,GACpB,MAAyB,mBAAXvG,EAAE/K,KAAqB+K,EAAE/K,KAAO+K,EAAE/K,KAAKqI,EAAMiJ,IAI/D,SAAS7E,EAAOrG,EAAIoG,EAAIxJ,EAAMlC,GAC5B,IAAIyQ,EAAQ,CACVC,QAAS,WACTC,UAAW,aACXC,UAAW,aAETC,EAAW,CACbH,QAAS,YACTC,UAAW,cACXC,UAAW,eAETE,EAAY,CACdJ,QAAS,cACTC,UAAW,gBACXC,UAAW,iBAETjR,EAAeoR,UAAUC,eAC3BlM,EAAU4G,GAAIpG,EAAIuL,EAAS3O,GAAOlC,GACzBL,EAAeoR,UAAUE,iBAClCnM,EAAU4G,GAAIpG,EAAIwL,EAAU5O,GAAOlC,IAEnC8E,EAAU4G,GAAIpG,EAAImL,EAAMvO,GAAOlC,GAC/B8E,EAAU4G,GAAIpG,EAAIpD,EAAMlC,IAI5B,SAASqM,EAAiBxI,GACxB,QAAkB,IAAdA,EAAEqN,QACJ,OAAOrN,EAAEqN,QAAQzO,OAEnB,QAAgB,IAAZoB,EAAEoD,OAAgC,IAAZpD,EAAEoD,MAC1B,OAAOpD,EAAEoD,MAEX,QAAkB,IAAdpD,EAAEsN,QACJ,OAAOtN,EAAEsN,QAEX,IAAIC,EAASvN,EAAEuN,OACf,YAAe,IAAXA,EAEc,EAATA,EAAa,EAAa,EAATA,EAAa,EAAa,EAATA,EAAa,EAAI,OAF5D,EAMF,SAASnE,EAAU3H,GACjB,IAAIqK,EAAOrK,EAAGsK,wBACd,MAAO,CACL1C,KAAMyC,EAAKzC,KAAOmE,EAAU,aAAc,eAC1ClE,IAAKwC,EAAKxC,IAAMkE,EAAU,YAAa,gBAI3C,SAASA,EAAUC,EAAYC,GAC7B,MAA0C,qBAA/B5R,EAAe4R,GACjB5R,EAAe4R,GAEpBvI,EAAgBwI,aACXxI,EAAgBsI,GAElBtM,EAAIgG,KAAKsG,GAGlB,SAASvD,EAAsB0D,EAAOrC,EAAGC,GACvC,IAEI/J,EAFA5B,EAAI+N,GAAS,GACbC,EAAQhO,EAAEwE,UAKd,OAHAxE,EAAEwE,WAAa,WACf5C,EAAKN,EAAI8H,iBAAiBsC,EAAGC,GAC7B3L,EAAEwE,UAAYwJ,EACPpM,EAGT,SAASmF,IACP,OAAO,EAET,SAASN,IACP,OAAO,EAET,SAAS2F,EAAaH,GACpB,OAAOA,EAAKE,OAASF,EAAKgC,MAAQhC,EAAKzC,KAEzC,SAAS8C,EAAcL,GACrB,OAAOA,EAAKI,QAAUJ,EAAKiC,OAASjC,EAAKxC,IAE3C,SAASI,EAAUjI,GACjB,OAAOA,EAAGuM,aAAe7M,EAAM,KAAOM,EAAGuM,WAE3C,SAASnF,EAAQpH,GACf,MAAsB,UAAfA,EAAGwM,SAAsC,aAAfxM,EAAGwM,SAAyC,WAAfxM,EAAGwM,SAAwBC,EAAWzM,GAEtG,SAASyM,EAAWzM,GAClB,QAAKA,IAGsB,UAAvBA,EAAG0M,kBAGoB,SAAvB1M,EAAG0M,iBAGAD,EAAWxE,EAAUjI,MAG9B,SAASoI,EAAOpI,GACd,OAAOA,EAAG2M,oBAAsBC,IAChC,SAASA,IACP,IAAIrD,EAAUvJ,EACd,GACEuJ,EAAUA,EAAQsD,kBACXtD,GAAgC,IAArBA,EAAQuD,UAC5B,OAAOvD,GAIX,SAASwD,EAAaxO,GAIpB,OAAIA,EAAEyO,eAAiBzO,EAAEyO,cAAc7P,OAC9BoB,EAAEyO,cAAc,GAErBzO,EAAE0O,gBAAkB1O,EAAE0O,eAAe9P,OAChCoB,EAAE0O,eAAe,GAEnB1O,EAGT,SAAS+I,EAAS4F,EAAO3O,GACvB,IAAI4O,EAAOJ,EAAaxO,GACpB6O,EAAU,CACZC,MAAO,UACPC,MAAO,WAKT,OAHIJ,KAASE,KAAaF,KAASC,IAASC,EAAQF,KAAUC,IAC5DD,EAAQE,EAAQF,IAEXC,EAAKD,GAGdvS,EAAOP,QAAUqJ,KAGf8J,EAAYhT,EAAekJ,GAE3B+J,EAAiB,SAAUC,EAAUC,GACvC,KAAMD,aAAoBC,GACxB,MAAM,IAAIC,UAAU,sCAIpBC,EAAc,WAChB,SAASC,EAAiBxM,EAAQyM,GAChC,IAAK,IAAI/L,EAAI,EAAGA,EAAI+L,EAAM3Q,OAAQ4E,IAAK,CACrC,IAAIgM,EAAaD,EAAM/L,GACvBgM,EAAWC,WAAaD,EAAWC,aAAc,EACjDD,EAAWE,cAAe,EACtB,UAAWF,IAAYA,EAAWG,UAAW,GACjD7S,OAAO8S,eAAe9M,EAAQ0M,EAAWpV,IAAKoV,IAIlD,OAAO,SAAUL,EAAaU,EAAYC,GAGxC,OAFID,GAAYP,EAAiBH,EAAY1S,UAAWoT,GACpDC,GAAaR,EAAiBH,EAAaW,GACxCX,GAdO,GAkBdY,EAAW,SAAUC,EAAUC,GACjC,GAA0B,oBAAfA,GAA4C,OAAfA,EACtC,MAAM,IAAIb,UAAU,kEAAoEa,GAG1FD,EAASvT,UAAYK,OAAOoT,OAAOD,GAAcA,EAAWxT,UAAW,CACrE0T,YAAa,CACXrW,MAAOkW,EACPP,YAAY,EACZE,UAAU,EACVD,cAAc,KAGdO,IAAYnT,OAAOsT,eAAiBtT,OAAOsT,eAAeJ,EAAUC,GAAcD,EAASK,UAAYJ,IAGzGK,EAA4B,SAAUvU,EAAMY,GAC9C,IAAKZ,EACH,MAAM,IAAIwU,eAAe,6DAG3B,OAAO5T,GAAyB,kBAATA,GAAqC,oBAATA,EAA8BZ,EAAPY,GAGxE6T,EAAMjV,OAAOkV,sBAEjB,SAASC,EAAMvU,GACbqU,GAAI,WACFA,EAAIrU,MAIR,SAASwU,EAAWxU,GAClBZ,OAAOgC,WAAWpB,EAAI,IAGxB,IAAIyU,EAAoBJ,EAAME,EAAQC,EAEtC,SAASE,EAASC,GAChB,OAAOA,IAAQhU,OAAOgU,GAGxB,IAAIC,EAAc,WAChB,SAASA,EAAYC,GACnB,IAAIpT,EAAMoT,EAAKpT,IACXhE,EAAOoX,EAAKpX,KACZwN,EAAQ4J,EAAK5J,MACH4J,EAAK5V,QACnB6T,EAAe5V,KAAM0X,GAErB1X,KAAK4X,QAAU,KACf5X,KAAK6X,UAAY,KACjB7X,KAAK8X,UAAY,KACjB9X,KAAK+X,YAAc,KACnB/X,KAAKwB,QAAU+C,EAAI/C,QACnBxB,KAAKuE,IAAMA,EACXvE,KAAKgY,YAAczT,EAAIhE,KACvBP,KAAKiY,aAAe1T,EAAI0T,aACxBjY,KAAK+N,MAAQA,EACb/N,KAAKO,KAAOA,EACZP,KAAKkY,SAAW3T,EAAI2T,SACpBlY,KAAKmY,sBAAwB5T,EAAI4T,sBAAsBC,KAAK7T,GAC5DvE,KAAKqY,WAAa9T,EAAI8T,WAAWD,KAAK7T,GA+TxC,OA5TAyR,EAAY0B,EAAa,CAAC,CACxB3W,IAAK,MACLN,MAAO,SAAa+I,GAClB,IAAI8O,EAEJ,GAAKtY,KAAKuY,UAAV,CAEA,IAAK,IAAIC,EAAOlT,UAAUC,OAAQjB,EAAOnB,MAAMqV,EAAO,EAAIA,EAAO,EAAI,GAAIC,EAAO,EAAGA,EAAOD,EAAMC,IAC9FnU,EAAKmU,EAAO,GAAKnT,UAAUmT,IAG5BH,EAAWI,SAASC,IAAInU,MAAM8T,EAAU,CAACtY,KAAK4Y,UAAY,KAAO5Y,KAAKO,KAAO,MAAOiJ,GAAOqP,OAAOvU,OAOpG,CACDvD,IAAK,cACLN,MAAO,WACLT,KAAK2Y,IAAI,cAAe,CACtBZ,YAAa/X,KAAK+X,YAClBF,UAAW7X,KAAK6X,YAElB7X,KAAK+X,YAAYe,SAAS9Y,KAAK6X,aAQhC,CACD9W,IAAK,gBACLN,MAAO,WACLT,KAAK2Y,IAAI,gBAAiB,CACxBZ,YAAa/X,KAAK+X,YAClBF,UAAW7X,KAAK6X,UAChBC,UAAW9X,KAAK8X,YAGlB9X,KAAK+X,YAAYgB,KAAK,CACpBjB,UAAW9X,KAAK8X,UAChBD,UAAW7X,KAAK6X,cAWnB,CACD9W,IAAK,cACLN,MAAO,SAAqBuY,EAAaC,EAAcC,GACrDlZ,KAAK2Y,IAAI,cAAe,CACtBK,YAAaA,EACblB,UAAW9X,KAAK8X,UAChBmB,aAAcA,EACdC,SAAUA,IAGZF,EAAYG,SAASnZ,KAAK8X,UAAWmB,GAErCjZ,KAAK2F,KAAK,WAAY,CACpBuT,SAAUA,EACVF,YAAaA,EACbI,aAAcH,EACdpB,UAAW7X,KAAK6X,UAChBC,UAAW9X,KAAK8X,UAChBuB,OAAQ,CACN/I,OAAQtQ,KAAK+X,YACbtO,OAAQuP,EACRM,QAASL,GAEXM,QAAS,CACPjJ,OAAQtQ,KAAK6X,UACbpO,OAAQzJ,KAAK8X,eASlB,CACD/W,IAAK,UACLN,MAAO,WACL,IAAI+Y,EAAQxZ,KAEZuX,GAAkB,WAChBiC,EAAMzB,YAAYe,SAASU,EAAM3B,gBASpC,CACD9W,IAAK,aACLN,MAAO,SAAoBgJ,GACzBzJ,KAAK2Y,IAAI,4CAA6C,CACpDlP,OAAQA,IAEVzJ,KAAK2Y,IAAI,YAAa,CACpB5K,MAAO/N,KAAK+N,QAEd/N,KAAK+N,MAAME,QAAO,KAUnB,CACDlN,IAAK,kBACLN,MAAO,SAAyBgZ,EAAShQ,EAAQ6G,GAC/CtQ,KAAK2Y,IAAI,kBAAmB,CAC1Bc,QAASA,EACThQ,OAAQA,EACR6G,OAAQA,IAEV,IAAIoJ,EAAU1Z,KAAK4X,UAAY6B,EAC3BT,EAAchZ,KAAK2Z,SAASlQ,GAC5BwP,EAAeS,EAAU1Z,KAAKiZ,eAAiBjZ,KAAK4Z,mBAMxD,GAJIF,GACF1Z,KAAK0Z,WAGFV,EACH,OAAOhZ,KAAK6Z,WAAWpQ,GAGzB,IAAIyP,EAAW,CACbvI,KAAM8I,EACNhQ,OAAQA,EACR6G,OAAQA,GAGVtQ,KAAK8Z,YAAYd,EAAaC,EAAcC,KAE7C,CACDnY,IAAK,YACLN,MAAO,SAAmBgZ,EAAShQ,EAAQ6G,GACzCtQ,KAAK2Y,IAAI,YAAa,CACpBc,QAASA,EACThQ,OAAQA,EACR6G,OAAQA,IAEV7G,IAAW6G,EAAStQ,KAAK+Z,gBAAkB/Z,KAAKga,gBAAgBP,EAAShQ,EAAQ6G,KAElF,CACDvP,IAAK,OACLN,MAAO,SAAcwZ,GACnB,IAAIpV,EAAOS,UAAUC,OAAS,QAAsBR,IAAjBO,UAAU,GAAmBA,UAAU,GAAK,GAE/EtF,KAAK2Y,IAAI,OAAQ,CACfsB,UAAWA,EACXpV,KAAMA,IAERA,EAAKkT,YAAc/X,KAAK+X,YACxBlT,EAAKtE,KAAOP,KAAKO,KACjBP,KAAKkY,SAASgC,MAAMD,EAAWpV,GAE/B7E,KAAK2Y,IAAI,eAAgB,CACvBwB,iBAAkBA,EAClBF,UAAWA,EACXpV,KAAMA,IAER,IAAIsV,EAAmBna,KAAKgY,YAAc,IAAMiC,EAChDja,KAAKkY,SAASgC,MAAMC,EAAkBtV,KAQvC,CACD9D,IAAK,WACLN,MAAO,SAAkB2Z,GACvB,IAAIpR,EAAQhJ,KAAKmY,sBAAsBiC,EAAUpa,KAAK+N,OAMtD,OALA/N,KAAK2Y,IAAI,WAAY,CACnByB,SAAUA,EACVpR,MAAOA,IAGFhJ,KAAKiY,aAAaoC,UAAU,CACjC9Z,KAAMP,KAAKO,KACXwN,MAAO/N,KAAK+N,MACZvM,QAASxB,KAAKwB,QACdwH,MAAOA,MAWV,CACDjI,IAAK,SACLN,MAAO,SAAgB2H,EAAIkL,EAAWhD,GACpCtQ,KAAK2Y,IAAI,SAAU,CACjBvQ,GAAIA,EACJkL,UAAWA,EACXhD,OAAQA,IAELtQ,KAAK+N,MAAMsL,QAKhBrZ,KAAK+X,YAAc/X,KAAK2Z,SAASrJ,GACjCtQ,KAAKsa,cACLta,KAAK+N,MAAME,QAAO,GAElBjO,KAAK2F,KAAK,cAAe,CACvByC,GAAIA,EACJkI,OAAQA,EACRuH,UAAW7X,KAAK6X,aAXhB7X,KAAK2Y,IAAI,gDAAiD3Y,KAAK+N,MAAMsL,UAqBxE,CACDtY,IAAK,OACLN,MAAO,SAAc2H,EAAIkI,GACvBtQ,KAAK2Y,IAAI,OAAQ,CACfvQ,GAAIA,EACJkI,OAAQA,IAEVtQ,KAAK4X,QAAUxP,EACfpI,KAAK6X,UAAY7X,KAAKqY,WAAWjQ,EAAIkI,KAUtC,CACDvP,IAAK,OACLN,MAAO,SAAc8Z,EAAQ9Q,EAAQ6G,GACnCtQ,KAAK2Y,IAAI,OAAQ,CACf4B,OAAQA,EACR9Q,OAAQA,EACR6G,OAAQA,IAELtQ,KAAK+N,MAAMsL,QAAW5P,GAI3BzJ,KAAK8X,UAAY9X,KAAKqY,WAAWkC,EAAQ9Q,GACzCzJ,KAAK+X,YAAc/X,KAAK2Z,SAASrJ,GACjCtQ,KAAKwa,UAAUD,EAAQ9Q,EAAQ6G,GAE/BtQ,KAAK2F,KAAK,YAAa,CACrB8D,OAAQA,EACR6G,OAAQA,EACRlI,GAAImS,EACJ1C,UAAW7X,KAAK6X,UAChBC,UAAW9X,KAAK8X,aAZhB9X,KAAK2Y,IAAI,qDAAsD3Y,KAAK+N,MAAMsL,OAAQ,cAAe5P,KAepG,CACD1I,IAAK,eACLN,MAAO,WACL,OAAOT,KAAK+X,YAAY0C,GAAGza,KAAK6X,aAEjC,CACD9W,IAAK,mBACLN,MAAO,WACL,IAAIuI,EAAQhJ,KAAK+X,YAAY0C,GAAGza,KAAK6X,WACjC6C,EAAa1R,EAAQA,EAAMA,OAASA,EAAM0R,WAAa1R,EACvD2R,EAAKD,GAAc1R,EAClBwO,EAASmD,IACZ3a,KAAK2Y,IAAI,mBAAoB,qDAAsD+B,EAAY1R,GAEjG,IACE,IAAI4R,EAAUC,KAAKC,UAAUJ,GAAc1R,GAC3C,OAAO6R,KAAKE,MAAMH,GAClB,MAAOjU,GACP3G,KAAK2Y,IAAI,mBAAoB,6BAA8BhS,MAG9D,CACD5F,IAAK,YACLia,IAAK,WACH,OAAOhb,KAAK8W,YAAYvW,MAAQ,gBAEjC,CACDQ,IAAK,YACLia,IAAK,WACH,OAAOhb,KAAKwB,SAAWxB,KAAKwB,QAAQyZ,gBAGjCvD,EAnVS,GAsVdwD,EAAmB,WACrB,SAASA,IACP,IAAIrW,EAAOS,UAAUC,OAAS,QAAsBR,IAAjBO,UAAU,GAAmBA,UAAU,GAAK,GAC/EsQ,EAAe5V,KAAMkb,GAEjB/X,MAAMyJ,QAAQ/H,KAChBA,EAAO,CACLmE,MAAOnE,IAGXA,EAAKkJ,MAAQlJ,EAAKkJ,OAAS,GAC3B/N,KAAK6E,KAAOA,EACZ7E,KAAKgC,KAAO6C,EAAK7C,MAAQ6C,EAAKkJ,MAAM/L,KACpChC,KAAKO,KAAOsE,EAAKtE,KACjBP,KAAK+N,MAAQlJ,EAAKkJ,MAClB/N,KAAKwB,QAAUqD,EAAKrD,QACpBxB,KAAKwB,QAAUqD,EAAKrD,QACpBxB,KAAKmb,SAAWtW,EAAKmE,OAAS,GAkFhC,OA/EAgN,EAAYkF,EAAkB,CAAC,CAC7Bna,IAAK,MACLN,MAAO,SAAa+I,GAClB,IAAI8O,EAEJ,GAAKtY,KAAKuY,UAAV,CAEA,IAAK,IAAIC,EAAOlT,UAAUC,OAAQjB,EAAOnB,MAAMqV,EAAO,EAAIA,EAAO,EAAI,GAAIC,EAAO,EAAGA,EAAOD,EAAMC,IAC9FnU,EAAKmU,EAAO,GAAKnT,UAAUmT,IAG5BH,EAAWI,SAASC,IAAInU,MAAM8T,EAAU,CAACtY,KAAK4Y,UAAY,KAAO5Y,KAAKO,KAAO,MAAOiJ,GAAOqP,OAAOvU,OAEpG,CACDvD,IAAK,SACLN,MAAO,SAAgBF,GACrBP,KAAK2Y,IAAIpY,EAAM,yBAEhB,CACDQ,IAAK,OACLN,MAAO,WACLT,KAAKob,OAAO,UAEb,CACDra,IAAK,OACLN,MAAO,WACLT,KAAKob,OAAO,UAEb,CACDra,IAAK,KACLN,MAAO,SAAY2F,GACjBpG,KAAKob,OAAO,QAEb,CACDra,IAAK,QACLN,MAAO,WACLT,KAAKob,OAAO,WAEb,CACDra,IAAK,cACLN,MAAO,SAAqBuI,GAC1BhJ,KAAKob,OAAO,iBAEb,CACDra,IAAK,YACLN,MAAO,WAGLT,KAAKob,OAAO,eAEb,CACDra,IAAK,WACLN,MAAO,SAAkB2F,GACvBpG,KAAKob,OAAO,cAEb,CACDra,IAAK,WACLN,MAAO,SAAkB2F,EAAOoU,GAC9Bxa,KAAKob,OAAO,cAEb,CACDra,IAAK,OACLN,MAAO,SAAckX,GACHA,EAAKE,UACLF,EAAKG,UAErB9X,KAAKob,OAAO,UAEb,CACDra,IAAK,YACLia,IAAK,WACH,OAAOhb,KAAK8W,YAAYvW,MAAQ,qBAEjC,CACDQ,IAAK,YACLia,IAAK,WACH,OAAOhb,KAAKwB,SAAWxB,KAAKwB,QAAQyW,iBAGjCiD,EAnGc,GAsGnBG,EAAe,SAAUC,GAG3B,SAASD,IACP,IAAIxW,EAAOS,UAAUC,OAAS,QAAsBR,IAAjBO,UAAU,GAAmBA,UAAU,GAAK,GAC/EsQ,EAAe5V,KAAMqb,GAErB,IAAI7B,EAAQvC,EAA0BjX,MAAOqb,EAAarE,WAAavT,OAAO8X,eAAeF,IAAe/X,KAAKtD,KAAM6E,IAIvH,OAFA2U,EAAMxQ,MAAQwQ,EAAMgC,YAAYhC,EAAM2B,UACtC3B,EAAMb,IAAI,SAAU9T,GACb2U,EAuHT,OAjIA9C,EAAS2E,EAAcC,GAavBtF,EAAYqF,EAAc,CAAC,CACzBta,IAAK,MACLN,MAAO,SAAa+I,GAClB,IAAI8O,EAEJ,GAAKtY,KAAKuY,UAAV,CAEA,IAAK,IAAIC,EAAOlT,UAAUC,OAAQjB,EAAOnB,MAAMqV,EAAO,EAAIA,EAAO,EAAI,GAAIC,EAAO,EAAGA,EAAOD,EAAMC,IAC9FnU,EAAKmU,EAAO,GAAKnT,UAAUmT,IAG5BH,EAAWI,SAASC,IAAInU,MAAM8T,EAAU,CAACtY,KAAK4Y,UAAY,KAAO5Y,KAAKO,KAAO,MAAOiJ,GAAOqP,OAAOvU,OAEpG,CACDvD,IAAK,OACLN,MAAO,WACLT,KAAK2Y,IAAI,OAAQ,yBAElB,CACD5X,IAAK,OACLN,MAAO,WACLT,KAAK2Y,IAAI,OAAQ,yBAElB,CACD5X,IAAK,KACLN,MAAO,SAAY2F,GACjB,OAAOpG,KAAKgJ,MAAMgS,IAAMhb,KAAKgJ,MAAMgS,IAAI5U,GAASpG,KAAKgJ,MAAM5C,KAE5D,CACDrF,IAAK,QACLN,MAAO,WACLT,KAAKgJ,MAAQhJ,KAAKwb,gBAEnB,CACDza,IAAK,cACLN,MAAO,SAAqBuI,GAC1B,OAAOhJ,KAAKgJ,OAASA,GAAS,KAE/B,CACDjI,IAAK,YACLN,MAAO,WACL,IAAIoE,EAAOS,UAAUC,OAAS,QAAsBR,IAAjBO,UAAU,GAAmBA,UAAU,GAAK,GAE/E,OAAO,IAAI+V,EAAaxW,KAEzB,CACD9D,IAAK,WACLN,MAAO,SAAkB2F,GACvB,IAAIpG,KAAKgC,KAAT,CACAhC,KAAK2Y,IAAI,WAAY,CACnB3P,MAAOhJ,KAAKgJ,MACZ5C,MAAOA,IAET,IAAIqV,EAAezb,KAAKgJ,MAAMvD,OAAOW,EAAO,GACxCsV,EAAe1b,KAAKgJ,MAMxB,OAJAhJ,KAAK2Y,IAAI,CACP8C,aAAcA,EACdC,aAAcA,IAETD,KAER,CACD1a,IAAK,WACLN,MAAO,SAAkB2F,EAAO0T,GAC9B9Z,KAAK2Y,IAAI,WAAY,CACnB3P,MAAOhJ,KAAKgJ,MACZ5C,MAAOA,EACP0T,YAAaA,IAGf,IAAI2B,EAAezb,KAAKgJ,MAAMvD,OAAOW,EAAO,EAAG0T,GAC3C6B,EAAmB3b,KAAKgJ,MAM5B,OAJAhJ,KAAK2Y,IAAI,WAAY,CACnB8C,aAAcA,EACdE,iBAAkBA,IAEbA,IAER,CACD5a,IAAK,OACLN,MAAO,SAAckX,GACnB,IAAIE,EAAYF,EAAKE,UACjBC,EAAYH,EAAKG,UAErB,IAAI9X,KAAKgC,KAAT,CACAhC,KAAK2Y,IAAI,OAAQ,CACf3P,MAAOhJ,KAAKgJ,MACZ6O,UAAWA,EACXC,UAAWA,IAEb,IAAI8D,EAAmB5b,KAAKgJ,MAAMvD,OAAOoS,EAAW,GAChDgE,EAAYD,EAAiB,GAE7BE,EAAmB9b,KAAKgJ,MAAMvD,OAAOqS,EAAW,EAAG+D,GACnDE,EAAa/b,KAAKgJ,MAOtB,OALAhJ,KAAK2Y,IAAI,OAAQ,CACfiD,iBAAkBA,EAClBE,iBAAkBA,EAClBC,WAAYA,IAEPD,KAER,CACD/a,IAAK,YACLia,IAAK,WACH,OAAOhb,KAAK8W,YAAYvW,MAAQ,iBAEjC,CACDQ,IAAK,YACLia,IAAK,WACH,OAAOhb,KAAKwB,SAAWxB,KAAKwB,QAAQyW,iBAGjCoD,EAlIU,CAmIjBH,GAEF,IAAKvF,EACH,MAAM,IAAIqG,MAAM,wCAGlB,SAASC,EAAkBtE,GACzB,IAAIpT,EAAMoT,EAAKpT,IACXhE,EAAOoX,EAAKpX,KACZwN,EAAQ4J,EAAK5J,MAEjB,OAAO,IAAI2J,EAAY,CACrBnT,IAAKA,EACLhE,KAAMA,EACNwN,MAAOA,IAIX,SAASmO,EAAmBrX,GAC1B,OAAO,IAAIwW,EAAaxW,GAG1B,IAAIsX,GAAiB,WACnB,SAASA,IACP,IAAItX,EAAOS,UAAUC,OAAS,QAAsBR,IAAjBO,UAAU,GAAmBA,UAAU,GAAK,GAC/EsQ,EAAe5V,KAAMmc,GACrB,IAAI5b,EAAOsE,EAAKtE,KACZ2X,EAAWrT,EAAKqT,SAChBkE,EAASvX,EAAKuX,OACdra,EAAU8C,EAAK9C,QAEnBA,EAAUA,GAAW,GACrB/B,KAAK+B,QAAUA,EACf/B,KAAKwB,QAAUO,EAAQP,QAEvBxB,KAAK2Y,IAAI,wBAAyB9T,GAElC7E,KAAKO,KAAOA,EACZP,KAAKoc,OAASA,GAAU,GACxBpc,KAAKkY,SAAWA,EAChBlY,KAAKic,kBAAoBla,EAAQka,mBAAqBA,EACtDjc,KAAKkc,mBAAqBna,EAAQma,oBAAsBA,EAExDlc,KAAKiY,aAAejY,KAAKkc,mBAAmBna,GAG5C/B,KAAKuO,OAAS,CAAC,SAAU,SAAU,OAAQ,UAAW,OAAQ,MAAO,OAAQ,SAAU,SAAU,YAAa,cAAe,UAAW,QAAS,WAySnJ,OAtSAyH,EAAYmG,EAAgB,CAAC,CAC3Bpb,IAAK,YACLN,MAAO,WACL,IAAI4b,EAEJrc,KAAKuO,QAAU8N,EAAUrc,KAAKuO,QAAQsK,OAAOrU,MAAM6X,EAAS/W,aAE7D,CACDvE,IAAK,eACLN,MAAO,WACL,IAAK,IAAI+X,EAAOlT,UAAUC,OAAQ+W,EAAanZ,MAAMqV,GAAOC,EAAO,EAAGA,EAAOD,EAAMC,IACjF6D,EAAW7D,GAAQnT,UAAUmT,GAG/BzY,KAAKuO,OAASvO,KAAKuO,OAAOgO,QAAO,SAAUhc,GACzC,OAAO+b,EAAWE,SAASjc,QAG9B,CACDQ,IAAK,cACLN,MAAO,WACL,OAAOT,KAAKiY,aAAauD,gBAE1B,CACDza,IAAK,MACLN,MAAO,SAAa+I,GAClB,IAAI8O,EAEJ,GAAKtY,KAAKuY,UAAV,CAEA,IAAK,IAAIkE,EAAQnX,UAAUC,OAAQjB,EAAOnB,MAAMsZ,EAAQ,EAAIA,EAAQ,EAAI,GAAIC,EAAQ,EAAGA,EAAQD,EAAOC,IACpGpY,EAAKoY,EAAQ,GAAKpX,UAAUoX,IAG7BpE,EAAWI,SAASC,IAAInU,MAAM8T,EAAU,CAAC,mBAAqBtY,KAAKO,KAAO,MAAOiJ,GAAOqP,OAAOvU,OAEjG,CACDvD,IAAK,QACLN,MAAO,SAAekc,GAEpB,MADAjE,QAAQkE,MAAMD,GACR,IAAIX,MAAMW,KAEjB,CACD5b,IAAK,YACLN,MAAO,SAAmBoc,EAAQtc,GAC3BA,GACHP,KAAK4c,MAAMC,EAAS,mDAGvB,CACD9b,IAAK,MACLN,MAAO,SAAaF,EAAMwN,GAGxB,GAFA/N,KAAK2Y,IAAI,cAAepY,EAAMwN,GAC9B/N,KAAK8c,UAAU,MAAOvc,GAClBP,KAAKoK,KAAK7J,GAAO,CACnBP,KAAK2Y,IAAI,kBAAmB3Y,KAAK+c,YACjC,IAAIC,EAAS,iBAAmBzc,EAAO,sCAAwCP,KAAKO,KAAO,kQAC3FP,KAAK4c,MAAMI,GAUb,OAPAhd,KAAKoc,OAAO7b,GAAQwN,EAChBA,EAAMsL,QACRrZ,KAAKid,aAAa1c,EAAMwN,GAErBA,EAAMmP,YACTld,KAAKmd,YAAY5c,EAAMwN,GAElBA,IAER,CACDhN,IAAK,OACLN,MAAO,SAAcF,GAGnB,OAFAP,KAAK2Y,IAAI,uBAAwBpY,GACjCP,KAAK8c,UAAU,OAAQvc,GAChBP,KAAKoc,OAAO7b,KAEpB,CACDQ,IAAK,eACLN,MAAO,SAAsBF,EAAMwN,GAGjC,GAFA/N,KAAK2Y,IAAI,eAAgBpY,EAAMwN,GAC/B/N,KAAK8c,UAAU,eAAgBvc,GAC3BwN,EAAMqP,WAERpd,KAAK2Y,IAAI,eAAgB,0BAF3B,CAMA,IAAIsC,EAAcjb,KAAKic,kBAAkB,CACvC1X,IAAKvE,KACLO,KAAMA,EACNwN,MAAOA,IAET/N,KAAK2Y,IAAI,kCAAmCsC,GAE5ClN,EAAM/M,GAAG,SAAUia,EAAY1Q,OAAO6N,KAAK6C,IAC3ClN,EAAM/M,GAAG,OAAQia,EAAY9K,KAAKiI,KAAK6C,IACvClN,EAAM/M,GAAG,OAAQia,EAAYtK,KAAKyH,KAAK6C,IAEvClN,EAAMqP,YAAa,KAKpB,CACDrc,IAAK,KACLN,MAAO,WACL,IAAI4c,EAASrd,KAETsd,EAAgBhY,UAAUC,OAAS,QAAsBR,IAAjBO,UAAU,GAAmBA,UAAU,GAAK,GAExFtF,KAAK2Y,IAAI,eAAgB2E,GACzB7Z,OAAO8Z,KAAKD,GAAevX,SAAQ,SAAUyX,GAC3C,IAAIC,EAAkBH,EAAcE,GACpCH,EAAO1E,IAAI,MAAO6E,EAAaC,GAC/BJ,EAAOnF,SAASwF,IAAIF,EAAaC,QAGpC,CACD1c,IAAK,UACLN,MAAO,SAAiBF,GACtBP,KAAK2Y,IAAI,mBAAoBpY,GAC7BP,KAAK8c,UAAU,UAAWvc,GAC1B,IAAIwN,EAAQ/N,KAAKoK,KAAK7J,GACjBwN,IAGLA,EAAMG,UACNlO,KAAK2d,QAAQpd,MAEd,CACDQ,IAAK,UACLN,MAAO,SAAiBF,UACfP,KAAKoc,OAAO7b,KAEpB,CACDQ,IAAK,aACLN,MAAO,SAAoBF,EAAMwB,GAC/B/B,KAAK2Y,IAAI,qBAAsBpY,EAAMwB,GACrC/B,KAAK8c,UAAU,aAAcvc,GAC7B,IAAIwN,EAAQ/N,KAAKsK,IAAI/J,EAAMoV,EAAU5T,IAErC,OADA/B,KAAKid,aAAa1c,EAAMwN,GACjB/N,OAER,CACDe,IAAK,WACLN,MAAO,SAAkBF,EAAM+D,GAC7B,SAASsZ,IACP,MAAO,GAET,IAAIC,EAAc7d,KAAK8d,aAAavd,IAASP,KAAK8d,aAAaC,cAAgBH,EAC/E,OAAOC,EAAYvZ,KAEpB,CACDvD,IAAK,cACLN,MAAO,SAAqBF,GAC1B,IAAIwN,EAAQzI,UAAUC,OAAS,QAAsBR,IAAjBO,UAAU,GAAmBA,UAAU,GAAK,GAEhFtF,KAAK2Y,IAAI,cAAepY,EAAMwN,GAC9B/N,KAAK8c,UAAU,cAAevc,GAC9BwN,EAAMmP,YAAa,EACnB,IAAI1D,EAAQxZ,KAER2E,EAAU,SAAiBK,GAG7B,SAASgZ,IACP,IAAI1Z,EAAOnB,MAAMC,UAAUC,MAAMC,KAAKgC,WAClCT,EAAO2U,EAAMyE,SAAS1d,EAAM+D,GAChCO,EAAKtE,KAAOA,EACZsE,EAAKpD,QAAUzB,KACf6E,EAAKkJ,MAAQA,EACbyL,EAAMb,IAAI,iBAAkB3T,EAAMzE,EAAMsE,GACxC2U,EAAMtB,SAASgC,MAAMlV,EAAMH,GAC3B2U,EAAMtB,SAASgC,MAAMla,KAAKO,KAAO,IAAMyE,EAAMH,GAV/C2U,EAAMb,IAAI,UAAW3T,GAarB+I,EAAM/M,GAAGgE,EAAMgZ,IAEjBhe,KAAKuO,OAAOxI,QAAQpB,KAErB,CACD5D,IAAK,aACLN,MAAO,SAAoByd,EAAOlN,GAChC,OAAO7N,MAAMC,UAAUsC,QAAQpC,KAAK0N,EAAOmC,SAAU+K,KAEtD,CACDnd,IAAK,wBACLN,MAAO,SAA+B6S,EAAWvF,GAE/C,OADA/N,KAAK2Y,IAAI,wBAAyBrF,EAAWvF,IACrC/N,KAAKme,8BAA8B7K,EAAWvF,IAAU,IAAI/E,QAErE,CACDjI,IAAK,gCACLN,MAAO,SAAuC6S,EAAWvF,GACvD,GAAKA,EAAMsL,OAAX,CAIA,IAAI+E,EAAQrQ,EAAMsL,OAAOjP,MAAK,SAAUpB,GACtC,OAAOA,EAAMsK,YAAcA,KAM7B,OAJK8K,IACHpe,KAAK2Y,IAAI,kDAAmDrF,GAC5DtT,KAAK2Y,IAAI,WAAY5K,EAAMxN,KAAM,WAAYwN,EAAMsL,SAE9C+E,EAVLpe,KAAK2Y,IAAI,gCAAiC,8BAY7C,CACD5X,IAAK,YACLia,IAAK,WACH,OAAOhb,KAAKwB,SAAWxB,KAAKwB,QAAQC,UAErC,CACDV,IAAK,aACLia,IAAK,WACH,OAAOvX,OAAO8Z,KAAKvd,KAAKoc,UAEzB,CACDrb,IAAK,eACLia,IAAK,WAEH,OADAhb,KAAKqe,cAAgBre,KAAKqe,eAAiBre,KAAKse,oBACzCte,KAAKqe,eAEdE,IAAK,SAAaC,GAChBxe,KAAKqe,cAAgBG,IAEtB,CACDzd,IAAK,sBACLia,IAAK,WACH,MAAO,CACLyD,OAAQ,SAAgBna,GACtB,MAAO,CACLoa,MAAOpa,EAAK,GACZqa,SAAUra,EAAK,GACfU,KAAMV,EAAK,KAGf0I,MAAO,SAAe1I,GACpB,MAAO,CACL8D,GAAI9D,EAAK,GACTgM,OAAQhM,EAAK,GACb8L,OAAQ9L,EAAK,GACbqN,QAASrN,EAAK,KAGlBtC,KAAM,SAAcsC,GAClB,MAAO,CACL8D,GAAI9D,EAAK,GACTgM,OAAQhM,EAAK,KAGjB4I,QAAS,SAAiB5I,GACxB,MAAO,CACL8D,GAAI9D,EAAK,GACTmF,OAAQnF,EAAK,GACbgM,OAAQhM,EAAK,GACbqN,QAASrN,EAAK,KAGlB6I,QAAS,SAAiB7I,GACxB,MAAO,CACL8D,GAAI9D,EAAK,GACT8L,OAAQ9L,EAAK,KAGjB6L,KAAM,SAAc7L,GAClB,MAAO,CACL8D,GAAI9D,EAAK,GACTgM,OAAQhM,EAAK,KAGjBsa,QAAS,SAAiBta,GACxB,MAAO,CACL8D,GAAI9D,EAAK,KAGbqM,KAAM,SAAcrM,GAClB,MAAO,CACL8D,GAAI9D,EAAK,GACTmF,OAAQnF,EAAK,GACbgM,OAAQhM,EAAK,GACbqN,QAASrN,EAAK,KAGlByZ,aAAc,SAAsBzZ,GAClC,MAAO,CACL8D,GAAI9D,EAAK,GACTgP,UAAWhP,EAAK,GAChBgM,OAAQhM,EAAK,UAMhB6X,EAjUY,GAoUrB,IAAKxG,EACH,MAAM,IAAIqG,MAAM,wCAGlB,IAAI6C,GAAW,CACbC,cAAe,SAAuBnH,GACpC,IAAIpX,EAAOoX,EAAKpX,KACZ2X,EAAWP,EAAKO,SAChBkE,EAASzE,EAAKyE,OACdra,EAAU4V,EAAK5V,QAEnB,OAAO,IAAIoa,GAAe,CACxB5b,KAAMA,EACN2X,SAAUA,EACVkE,OAAQA,EACRra,QAASA,KAGbgd,eAAgB,SAAwB1d,GACtC,OAAO,IAAIA,IAIf,SAAS2d,GAAQC,GACf,OAAKA,GACc,IAAfA,EAAI1Z,OAIV,SAAS2Z,GAAY7d,GACnB,IAAIU,EAAUuD,UAAUC,OAAS,QAAsBR,IAAjBO,UAAU,GAAmBA,UAAU,GAAK,GAYlF,SAAS6Z,IACP,IAAI7G,EAEJ,GAAKvW,EAAQP,SACRO,EAAQP,QAAQ4d,OAArB,CAEA,IAAK,IAAI5G,EAAOlT,UAAUC,OAAQjB,EAAOnB,MAAMqV,GAAOC,EAAO,EAAGA,EAAOD,EAAMC,IAC3EnU,EAAKmU,GAAQnT,UAAUmT,IAGxBH,EAAWI,SAASC,IAAInU,MAAM8T,EAAU,CAAC,sBAAsBO,OAAOvU,KAGzE,SAAS+a,IACP,IAAIC,EAEJ,GAAKvd,EAAQP,SACRO,EAAQP,QAAQC,QAArB,CAEA,IAAK,IAAIgb,EAAQnX,UAAUC,OAAQjB,EAAOnB,MAAMsZ,GAAQC,EAAQ,EAAGA,EAAQD,EAAOC,IAChFpY,EAAKoY,GAASpX,UAAUoX,IAGzB4C,EAAY5G,SAASC,IAAInU,MAAM8a,EAAW,CAAC,gCAAgCzG,OAAOvU,KAGrF,SAASib,IACP,IAAIC,EAEJ,GAAKzd,EAAQP,SACRO,EAAQP,QAAQie,UAArB,CAEA,IAAK,IAAIC,EAAQpa,UAAUC,OAAQjB,EAAOnB,MAAMuc,GAAQC,EAAQ,EAAGA,EAAQD,EAAOC,IAChFrb,EAAKqb,GAASra,UAAUqa,IAGzBH,EAAY9G,SAASC,IAAInU,MAAMgb,EAAW,CAAC,uBAAuB3G,OAAOvU,MA7CpD,IAApBvC,EAAQP,UACVO,EAAQP,QAAU,CAChB4d,QAAQ,EACRK,WAAW,EACXhe,SAAS,EACTwZ,aAAa,IA2CjBkE,EAAU,kCAAmCpd,GAE7C,IAAI6d,EAAiB7d,EAAQ+c,eAAiBD,GAASC,cACnDC,EAAiBhd,EAAQgd,gBAAkBF,GAASE,gBAAkB,IAAI1d,EAE9E8d,EAAU,kBAAmBJ,GAC7B,IAAI7G,EAAW6G,EAAe1d,EAAKU,GAEnC,IAAKmW,EAEH,MADAQ,QAAQmH,KAAK,iCACP,IAAI7D,MAAM,iCAGlBmD,EAAU,mBAAoBjH,GAG9B,IAAI4H,EAAaF,EAAe,CAC9Brf,KAAM,iBACN2X,SAAUA,EACVkE,OAAQra,EAAQqa,OAChBra,QAASA,IAGPge,EAAa,cAEbC,EAAU,WACZ,SAASA,EAAQje,GACf6T,EAAe5V,KAAMggB,GAErBhgB,KAAK+B,QAAUA,EAGf/B,KAAK8B,SAAW,CACdC,QAAS+d,EAAWG,WAAW7H,KAAK0H,GACpC1V,KAAM0V,EAAW1V,KAAKgO,KAAK0H,GAC3B5H,SAAU4H,EAAW5H,UAErBlY,KAAK8B,SAASC,QAAQ,UAAW,IAGnC/B,KAAKkgB,eAAiBlgB,KAAK8e,cA+I7B,OA5IA9I,EAAYgK,EAAS,CAAC,CACpBjf,IAAK,aACLN,MAAO,SAAoBF,GACzB,IAAIsE,EAAOS,UAAUC,OAAS,QAAsBR,IAAjBO,UAAU,GAAmBA,UAAU,GAAK,GAG/E,OADAtF,KAAKyB,QAAQlB,GAAM0f,WAAWpb,GACvB7E,OAER,CACDe,IAAK,gBACLN,MAAO,WACL,IAAI+Y,EAAQxZ,KAERmgB,EAAc7a,UAAUC,OAAS,QAAsBR,IAAjBO,UAAU,GAAmBA,UAAU,GAAK,GAEtF+Z,EAAiB,gBAAiBc,GAElCngB,KAAKogB,YAAcpgB,KAAKogB,aAAe,GAEvC,IAAIC,EAAQF,EAAYE,OAAS,GAC7B9f,EAAO4f,EAAY5f,MAAQ,GAC3B6b,EAAS+D,EAAY/D,QAAU,GAC/BrO,EAAQoS,EAAYpS,MACpBlJ,EAAOpB,OAAO6c,OAAO,GAAIve,EAASoe,GACtCE,EAAQA,EAAM9a,OAAS,EAAI8a,EAAQ,CAAC9f,GACpC,IAAI2X,EAAWiI,EAAYjI,UAAY4H,EAAW5H,SAsBlD,OArBKA,GACHQ,QAAQmH,KAAK,gCAAiC3H,GAGhDmH,EAAiB,QAASgB,GAC1BA,EAAMta,SAAQ,SAAUxF,GACtB,IAAIggB,EAAa,CACfhgB,KAAMA,EACN2X,SAAUA,EACVnW,QAAS8C,GAEXwa,EAAiB,wBAAyB9e,EAAMggB,GAChD/G,EAAM4G,YAAY7f,GAAQqf,EAAeW,GAGpCnE,EAAOzY,UACVyY,EAAOzY,QAAUoK,IAAS,GAG5ByL,EAAMgH,UAAUjgB,EAAM6b,MAEjBpc,OAER,CACDe,IAAK,YACLN,MAAO,SAAmBF,GACxB,IAAI6b,EAAS9W,UAAUC,OAAS,QAAsBR,IAAjBO,UAAU,GAAmBA,UAAU,GAAK,GAEjF+Z,EAAiB,YAAa9e,EAAM6b,GACpC,IAAI3a,EAAUzB,KAAKyB,QAAQlB,GAkB3B,OAhBI4C,MAAMyJ,QAAQwP,KAEhBA,EAASA,EAAOqE,QAAO,SAAUhJ,EAAKlX,GAEpC,OADAkX,EAAIlX,IAAQ,EACLkX,IACN,KAGLhU,OAAO8Z,KAAKnB,GAAQrW,SAAQ,SAAU2a,GACpC,IAAIC,EAAYvE,EAAOsE,IACL,IAAdC,IACFA,EAAY,IAGdlf,EAAQwe,WAAWS,EAAWC,MAEzB3gB,OAER,CACDe,IAAK,KACLN,MAAO,SAAYF,GACjB,IAAI8c,EAASrd,KAETsd,EAAgBhY,UAAUC,OAAS,QAAsBR,IAAjBO,UAAU,GAAmBA,UAAU,GAAK,GAGxF,GADA+Z,EAAiB,KAAM9e,EAAM+c,GACqC,YAA7C,qBAAT/c,EAAuB,mBAAqBA,GAAoB,CAC1E+c,EAAgB/c,EAEhB,IAAIqgB,EAAe5gB,KAAK4gB,aAExB,OAAKA,GAAgBA,EAAarb,OAAS,GACzCmT,QAAQmH,KAAK,4DAA6D7f,KAAKogB,aACxEpgB,OAGTqf,EAAiB,yBAA0BuB,GAC3CA,EAAa7a,SAAQ,SAAUiS,GAC7BqF,EAAOrc,GAAGgX,EAAasF,MAElBtd,MAGT,IAAIyB,EAAUzB,KAAKyB,QAAQlB,GAC3B,OAAKkB,GAIL4d,EAAiB,aAAc5d,EAAS6b,GACxC7b,EAAQT,GAAGsc,GACJtd,OALL0Y,QAAQmH,KAAK,2BAA6Btf,EAAO,8BAC1CP,QAMV,CACDe,IAAK,UAILN,MAAO,SAAiBF,GACtB,GAAKP,KAAKogB,YAAV,CAEA,IAAIhC,EAAQpe,KAAKogB,YAAY7f,GAG7B,GAFA8e,EAAiB,iBAAkB9e,EAAM6d,IAEpCA,EAAO,CACViB,EAAiB,kCACjB,IAAI9B,EAAOvd,KAAK4gB,aACZrD,IACFa,EAAQpe,KAAKogB,YAAY7C,EAAK,KAGlC,OAAOa,KAER,CACDrd,IAAK,eACLia,IAAK,WACH,OAAOvX,OAAO8Z,KAAKvd,KAAKogB,eAEzB,CACDrf,IAAK,WACLia,IAAK,WACH,OAAOvX,OAAOod,OAAO7gB,KAAKogB,iBAGvBJ,EA9JK,GAiKd3e,EAAIQ,SAAW,IAAIme,EAAQje,GAE3B,IAAI+e,EAAkB,GAItB,SAASC,EAAYxgB,EAAMygB,EAAOhJ,GAEhC,GAAIgJ,EAAO,CACT,IAAIC,EAAWD,EAAM1R,QAAQzN,SAC7B,GAAIof,EAAU,CACZ1B,EAAO,4CAEP,IAAI2B,EAAmBD,EAASxf,QAAQuW,GACxC,GAAIkJ,EAEF,OADA3B,EAAO,0BAA2B2B,GAC3BA,GAKb,OADA3B,EAAO,uBAAwBO,GACxBA,EAGT,SAASqB,EAAU5gB,EAAMygB,EAAOzc,GAC9B,IAAImc,EAAYM,EAAQA,EAAMtf,KAAKd,MAAMmN,MAAQ/N,KAAK8G,OAAOiH,MACzDiK,EAAcgJ,EAAQA,EAAMtf,KAAKd,MAAMa,QAAUzB,KAAK8G,OAAOrF,QAOjE,YALkBsD,IAAd2b,GAAgD,IAArBA,EAAUnb,SACvChF,EAAOmgB,GAETA,EAAY1B,GAAQ0B,GAAa,UAAYA,EAEtC,CACLngB,KAAMA,EACNmgB,UAAWA,EACX1I,YAAaA,GAIjB,SAASoJ,EAAgB9N,EAAW+N,EAASL,EAAOM,GAClD/B,EAAO,mBACP,IAAIgC,EAAWP,EAAQK,EAAQ5gB,MAAQ6S,EACvC,GAAKiO,EAAL,CAIA,IAAIC,EAAaL,EAAUpB,EAAYiB,EAAOhhB,MAC1CO,EAAOihB,EAAWjhB,KAClBmgB,EAAYc,EAAWd,UACvB1I,EAAcwJ,EAAWxJ,YAEzBvW,EAAUsf,EAAYxgB,EAAMygB,EAAOhJ,GACnCjK,EAAQtM,EAAQ2I,KAAKsW,EAAWM,GAEpCF,EAAgBJ,GAAaI,EAAgBJ,IAAc,GAC3D,IAAIe,EAAKX,EAAgBJ,GAGzB,GAAIe,EAAI,CACN,IAAIrD,EAAQqD,EAAGrX,MAAK,SAAU/E,GAC5B,OAAOA,IAAMiO,KAEf,GAAI8K,EAEF,YADAmB,EAAO,yCAA0CmB,EAAWpN,GAKhE,GAAK7R,EAAL,CAKKsM,EAAMsL,SACTtL,EAAMsL,OAAS,IAGZ2H,IACH1N,EAAYtT,KAAKoI,IAGnB,IAAIsZ,EAAiBjgB,EAAQ0c,8BAA8B7K,EAAWvF,GAEtE0T,EAAGxc,KAAKqO,GAERiM,EAAO,OAAQ,CACb9d,QAAS,CACPlB,KAAMyX,EACNnC,SAAUpU,GAEZsM,MAAO,CACLxN,KAAMmgB,EACN7K,SAAU9H,GAEZuF,UAAWA,EACXoO,eAAgBA,IAGdA,GACFnC,EAAO,yBAA0BgC,GACjCG,EAAe1Y,MAAQuY,IAEvBhC,EAAO,oCAAqCgC,EAAUjO,GACtDvF,EAAMsL,OAAOpU,KAAK,CAChB+D,MAAOuY,EACPjO,UAAWA,UApCbiM,EAAO,mBAAoBhf,EAAMmgB,IAlErCrf,EAAI+B,UAAUvB,SAAWR,EAAIQ,SA2G7BR,EAAIoe,UAAU,UAAW,CACvB3Y,OAAQ,CAAC,QAAS,WAElBsR,KAAM,SAAc9E,EAAW+N,EAASL,GACtCzB,EAAO,OAAQjM,EAAW+N,EAASL,GAEnC,IAAIW,EAAcR,EAAUpB,EAAYiB,EAAOhhB,MAC3CO,EAAOohB,EAAYphB,KACnBmgB,EAAYiB,EAAYjB,UACxB1I,EAAc2J,EAAY3J,YAE1BvW,EAAUsf,EAAYxgB,EAAMygB,EAAOhJ,GACnCjK,EAAQtM,EAAQ2I,KAAKsW,EAAWM,GAkBpC,GAhBKA,IACH1N,EAAYtT,KAAKoI,IAGnBmX,EAAO,CACL9d,QAAS,CACPlB,KAAMyX,EACNnC,SAAUpU,GAEZsM,MAAO,CACLxN,KAAMmgB,EACN7K,SAAU9H,GAEZuF,UAAWA,IAGTvF,EACFA,EAAMV,WAAWpI,KAAKqO,OADxB,CAIA,IAAIsO,EAAWjM,EAAU,CACvBtI,WAAY,CAACiG,KAEf7R,EAAQ6I,IAAI/J,EAAMqhB,GAElBngB,EAAQwb,aAAa1c,EAAMqhB,KAE7BC,OAAQ,SAAgBvO,EAAW+N,EAASL,EAAOM,GACjD/B,EAAO,SAAUjM,EAAW+N,EAASL,GAEjB,IAAhB3f,EAAIygB,SACNV,EAAgB9N,EAAW+N,EAASL,EAAOM,IAG/CS,iBAAkB,SAA0BzO,EAAW+N,EAASL,EAAOM,GACrE/B,EAAO,oBAAqBjM,EAAW+N,EAASL,IAElDgB,SAAU,SAAkB1O,EAAW+N,EAASL,EAAOM,GACrD/B,EAAO,WAAYjM,EAAW+N,EAASL,GAEvCI,EAAgB9N,EAAW+N,EAASL,EAAOM,IAE7CW,OAAQ,SAAgB3O,EAAW+N,EAASL,GAC1CzB,EAAO,SAAUjM,EAAW+N,EAASL,GAErC,IAAIkB,EAAcf,EAAUpB,EAAYiB,EAAOhhB,MAC3CO,EAAO2hB,EAAY3hB,KACnBmgB,EAAYwB,EAAYxB,UACxB1I,EAAckK,EAAYlK,YAE1BvW,EAAUsf,EAAYxgB,EAAMygB,EAAOhJ,GACnCjK,EAAQtM,EAAQ2I,KAAKsW,EAAWM,GAcpC,GAZAzB,EAAO,CACL9d,QAAS,CACPlB,KAAMyX,EACNnC,SAAUpU,GAEZsM,MAAO,CACLxN,KAAMmgB,EACN7K,SAAU9H,GAEZuF,UAAWA,IAGRvF,EAAL,CAIA,IAAIoU,EAAiBpU,EAAMV,WAAW3H,QAAQ4N,GAE1C6O,GAAkB,IACpB5C,EAAO,mBAAoB4C,GAC3BpU,EAAMV,WAAW5H,OAAO0c,EAAgB,IAGV,IAA5BpU,EAAMV,WAAW9H,SACnBga,EAAO,mBACP9d,EAAQyM,QAAQ3N,QAMxB,IAAI6hB,GAAc,WAChB,SAASA,EAAYzK,GACnB,IAAIpX,EAAOoX,EAAKpX,KACZyI,EAAQ2O,EAAK3O,MACbmS,EAAWxD,EAAKwD,SAChBkH,EAAU1K,EAAK0K,QACf7gB,EAAUmW,EAAKnW,QACnBoU,EAAe5V,KAAMoiB,GAErBpiB,KAAKO,KAAOA,GAAQ,UACpBP,KAAKgJ,MAAQA,EACbhJ,KAAKmb,SAAWA,EAChBnb,KAAKwB,QAAUA,EACfxB,KAAKqiB,QAAUA,GAAWriB,KAAKsiB,gBAC/BtiB,KAAKqiB,QAAQpd,KAAKjF,KAAKgJ,OACvBhJ,KAAKuiB,UAAY,EAuFnB,OApFAvM,EAAYoM,EAAa,CAAC,CACxBrhB,IAAK,MACLN,MAAO,SAAa+I,GAClB,IAAI8O,EAEJ,GAAKtY,KAAKuY,UAAV,CAEA,IAAK,IAAIC,EAAOlT,UAAUC,OAAQjB,EAAOnB,MAAMqV,EAAO,EAAIA,EAAO,EAAI,GAAIC,EAAO,EAAGA,EAAOD,EAAMC,IAC9FnU,EAAKmU,EAAO,GAAKnT,UAAUmT,IAG5BH,EAAWI,SAASC,IAAInU,MAAM8T,EAAU,CAACtY,KAAK4Y,UAAY,KAAO5Y,KAAKO,KAAO,MAAOiJ,GAAOqP,OAAOvU,OAEpG,CACDvD,IAAK,gBACLN,MAAO,WACL,OAAOT,KAAKqiB,SAAW,KAExB,CACDthB,IAAK,aACLN,MAAO,SAAoB2F,GAIzB,OAHApG,KAAK2Y,IAAI,gBAAiBvS,GAC1BpG,KAAKgJ,MAAQhJ,KAAKqiB,QAAQjc,GAC1BpG,KAAKwiB,iBACExiB,OAER,CACDe,IAAK,iBACLN,MAAO,WACL,IAAI+Y,EAAQxZ,KAIZA,KAAKmb,SAAS1V,OAAO,EAAGzF,KAAKmb,SAAS5V,QACtCvF,KAAKgJ,MAAMjD,SAAQ,SAAUsE,GAC3BmP,EAAM2B,SAASlW,KAAKoF,QAGvB,CACDtJ,IAAK,OACLN,MAAO,WAEL,OADAT,KAAK2Y,IAAI,iBAAkB3Y,KAAKuiB,WACT,IAAnBviB,KAAKuiB,YAGTviB,KAAKuiB,YACLviB,KAAKyiB,WAAWziB,KAAKuiB,WACdviB,QAER,CACDe,IAAK,OACLN,MAAO,WAEL,OADAT,KAAK2Y,IAAI,iBAAkB3Y,KAAKuiB,UAAWviB,KAAKqiB,QAAQ9c,UACpDvF,KAAKuiB,UAAYviB,KAAKqiB,QAAQ9c,OAAS,KAG3CvF,KAAKuiB,YACLviB,KAAKyiB,WAAWziB,KAAKuiB,WACdviB,QAER,CACDe,IAAK,eACLN,MAAO,SAAsBiiB,GAS3B,OARA1iB,KAAK2Y,IAAI,gBACT3Y,KAAK2Y,IAAI,MAAO3Y,KAAKgJ,OACrBhJ,KAAK2Y,IAAI,MAAO+J,GAChB1iB,KAAKgJ,MAAQ0Z,EACb1iB,KAAK2Y,IAAI,mBAAoB3Y,KAAKgJ,OAClChJ,KAAKqiB,QAAQpd,KAAKyd,GAClB1iB,KAAKuiB,YACLviB,KAAKwiB,iBACExiB,OAER,CACDe,IAAK,YACLia,IAAK,WACH,OAAOhb,KAAKwB,SAAWxB,KAAKwB,QAAQyW,eAErC,CACDlX,IAAK,YACLia,IAAK,WACH,OAAOhb,KAAK8W,YAAYvW,MAAQ,kBAG7B6hB,EAtGS,GAyGdO,GAA2B,SAAkC9d,GAC/D,OAAO,IAAIud,GAAYvd,IAGrB+d,GAAwB,SAAUC,GAGpC,SAASD,IACP,IAAI/d,EAAOS,UAAUC,OAAS,QAAsBR,IAAjBO,UAAU,GAAmBA,UAAU,GAAK,GAC/EsQ,EAAe5V,KAAM4iB,GAErB,IAAIpJ,EAAQvC,EAA0BjX,MAAO4iB,EAAsB5L,WAAavT,OAAO8X,eAAeqH,IAAwBtf,KAAKtD,KAAM6E,IAEzI2U,EAAMsJ,QAAUje,EAAKie,SAAW,IAChC,IAAIC,EAAoBle,EAAKke,mBAAqBJ,GAKlD,OAJAnJ,EAAMwJ,YAAcD,EAAkBtf,OAAO6c,OAAOzb,EAAM,CACxDmE,MAAOwQ,EAAMxQ,MACbmS,SAAU3B,EAAM2B,YAEX3B,EA4NT,OA1OA9C,EAASkM,EAAuBC,GAiBhC7M,EAAY4M,EAAuB,CAAC,CAClC7hB,IAAK,aAOLN,MAAO,SAAoB2F,GACzB,OAAOpG,KAAKgjB,YAAYP,WAAWrc,KAOpC,CACDrF,IAAK,OACLN,MAAO,WAGL,OADAT,KAAKgjB,YAAYC,OACVjjB,OAOR,CACDe,IAAK,OACLN,MAAO,WAGL,OADAT,KAAKgjB,YAAYE,OACVljB,OAER,CACDe,IAAK,eACLN,MAAO,SAAsBuI,GAE3B,OADAhJ,KAAKgjB,YAAYG,aAAana,GACvBhJ,OAKR,CACDe,IAAK,cACLN,MAAO,SAAqBuI,GAC1B,OAAOA,GAAS,KAKjB,CACDjI,IAAK,YACLN,MAAO,WACL,IAAIoE,EAAOS,UAAUC,OAAS,QAAsBR,IAAjBO,UAAU,GAAmBA,UAAU,GAAK,GAE/E,OAAO,IAAIsd,EAAsB/d,KAElC,CACD9D,IAAK,UACLN,MAAO,WACL,OAA6B,IAAtBT,KAAKgJ,MAAMzD,SAEnB,CACDxE,IAAK,oBACLN,MAAO,SAA2BiiB,GAChC,IAAIrF,EAASrd,KAEbkE,YAAW,WACTmZ,EAAO8F,aAAaT,KACnB1iB,KAAK8iB,SAAW,OAQpB,CACD/hB,IAAK,WACLN,MAAO,SAAkB2F,GACvB,IAAIpG,KAAKgC,KAAT,CACAhC,KAAK2Y,IAAI,WAAY,CACnB3P,MAAOhJ,KAAKgJ,MACZ5C,MAAOA,IAGT,IAAIgd,EAASpjB,KAAKgJ,MAAM3F,MAAM,EAAG+C,GAC7Bid,EAAYrjB,KAAKgJ,MAAM3F,MAAM+C,EAAQ,GAEzCpG,KAAK2Y,IAAI,mBAAoByK,EAAQC,GACrC,IAAIX,EAAW1iB,KAAKwb,cAAc3C,OAAOuK,EAAQC,GAGjD,OADArjB,KAAKsjB,kBAAkBZ,GAChBA,KAUR,CACD3hB,IAAK,WACLN,MAAO,SAAkB2F,EAAO0T,GAC9B9Z,KAAK2Y,IAAI,WAAY,CACnB3P,MAAOhJ,KAAKgJ,MACZ5C,MAAOA,EACP0T,YAAaA,IAMf,IAAIyJ,EAAcvjB,KAAKwjB,YAAYpd,GAG/Bqd,EAAazjB,KAAK0jB,YAAYtd,GAElCpG,KAAK2Y,IAAI,mBAAoB,CAC3B4K,YAAaA,EACbzJ,YAAaA,EACb2J,WAAYA,IAGd,IAAIf,EAAW1iB,KAAK2jB,0BAA0BJ,EAAazJ,EAAa2J,GAOxE,OALAzjB,KAAK2Y,IAAI,CACP+J,SAAUA,IAGZ1iB,KAAKsjB,kBAAkBZ,GAChBA,IAER,CACD3hB,IAAK,4BACLN,MAAO,SAAmC8iB,EAAaK,EAAYH,GACjE,OAAOzjB,KAAKwb,cAAc3C,OAAO0K,EAAaK,EAAYH,KAQ3D,CACD1iB,IAAK,eACLN,MAAO,SAAsB2F,GAC3B,OAAOpG,KAAKgJ,MAAM3F,MAAM,EAAG+C,KAQ5B,CACDrF,IAAK,cACLN,MAAO,SAAqB2F,GAC1BpG,KAAKgJ,MAAM3F,MAAM+C,KASlB,CACDrF,IAAK,OACLN,MAAO,SAAckX,GACnB,IAAIE,EAAYF,EAAKE,UACjBC,EAAYH,EAAKG,UAErB,IAAI9X,KAAKgC,KAOT,OANAhC,KAAK2Y,IAAI,OAAQ,CACf3P,MAAOhJ,KAAKgJ,MACZ6O,UAAWA,EACXC,UAAWA,IAEb9X,KAAKgjB,YAAYC,OACVjjB,OAER,CACDe,IAAK,YACLia,IAAK,WACH,OAAOhb,KAAK8W,YAAYvW,MAAQ,0BAEjC,CACDQ,IAAK,QACLia,IAAK,WACH,OAAOhb,KAAKgjB,YAAchjB,KAAKgjB,YAAYha,MAAQhJ,KAAK6jB,SAEzD,CACD9iB,IAAK,UACLia,IAAK,WACH,OAAOhb,KAAKgjB,YAAYX,UAEzB,CACDthB,IAAK,YACLia,IAAK,WACH,OAAOhb,KAAKgjB,YAAYT,YAEzB,CACDxhB,IAAK,QACLia,IAAK,WACH,OAAOhb,KAAKya,GAAG,KAEhB,CACD1Z,IAAK,OACLia,IAAK,WACH,OAAOhb,KAAKya,GAAGza,KAAKgJ,MAAMzD,OAAS,OAGhCqd,EA3OmB,CA4O1BvH,GAEEyI,GAAgB,WAClB,SAASA,IACP,IAAIjf,EAAOS,UAAUC,OAAS,QAAsBR,IAAjBO,UAAU,GAAmBA,UAAU,GAAK,GAC/EsQ,EAAe5V,KAAM8jB,GAErB9jB,KAAKO,KAAOsE,EAAKtE,MAAQ,UACzBP,KAAKwB,QAAUqD,EAAKrD,QACpBxB,KAAK+jB,SAAW,CACdd,KAAM,SAAce,KACpBd,KAAM,SAAcc,MAGtBhkB,KAAKikB,QAAU,CAEbC,KAAM,GAENC,OAAQ,IAyKZ,OArKAnO,EAAY8N,EAAe,CAAC,CAC1B/iB,IAAK,MACLN,MAAO,SAAa+I,GAClB,IAAI8O,EAEJ,GAAKtY,KAAKuY,UAAV,CAEA,IAAK,IAAIC,EAAOlT,UAAUC,OAAQjB,EAAOnB,MAAMqV,EAAO,EAAIA,EAAO,EAAI,GAAIC,EAAO,EAAGA,EAAOD,EAAMC,IAC9FnU,EAAKmU,EAAO,GAAKnT,UAAUmT,IAG5BH,EAAWI,SAASC,IAAInU,MAAM8T,EAAU,CAACtY,KAAK4Y,UAAY,KAAO5Y,KAAKO,KAAO,MAAOiJ,GAAOqP,OAAOvU,OAEpG,CACDvD,IAAK,QACLN,MAAO,WACLT,KAAKikB,QAAQC,KAAO,GACpBlkB,KAAKikB,QAAQE,OAAS,KAKvB,CACDpjB,IAAK,QACLN,MAAO,SAAe6S,EAAW0Q,GAC/BhkB,KAAK2Y,IAAI,QAAS,CAChBrF,UAAWA,EACX0Q,OAAQA,IAEV,IAAII,EAAS9Q,EAAU0Q,GAAQ5L,KAAK9E,GAEpC,IAAK8Q,EACH,MAAM,IAAIpI,MAAM1I,EAAW,UAAW0Q,EAAQ,UAEhDI,MAKD,CACDrjB,IAAK,0BACLN,MAAO,SAAiCujB,GACtC,MAAkB,SAAXA,IAER,CACDjjB,IAAK,0BACLN,MAAO,SAAiCujB,GACtC,OAAO,IAER,CACDjjB,IAAK,KACLN,MAAO,SAAakX,GAClB,IAAIpX,EAAOoX,EAAKpX,KACZ+S,EAAYqE,EAAKrE,UAGjB+Q,EAAM/Q,EAAUgR,GAChBC,EAAQjR,EAAU2P,KACtB,GAAKoB,EAAI9e,OAAT,CAIA,IAAIye,EAASK,EAAIG,MAEbnL,EAAS2K,EAAO3K,OAEpBrZ,KAAK2Y,IAAI,KAAM,CACbpY,KAAMA,EACNyjB,OAAQA,EACR1T,OAAQA,EACR7G,OAAQA,IAGV,IAAI6G,EAAS+I,EAAO/I,OAChB7G,EAAS4P,EAAO5P,OAMhBzJ,KAAKykB,wBAAwBT,IAC/BhkB,KAAK0kB,MAAMpU,EAAQ/P,GAEjBP,KAAK2kB,wBAAwBX,IAC/BhkB,KAAK0kB,MAAMjb,EAAQlJ,GAGrBP,KAAK4kB,WAAWrkB,EAAMyjB,GAEtBO,EAAMtf,KAAK+e,MAGZ,CACDjjB,IAAK,aACLN,MAAO,SAAoBF,EAAMyjB,GAC/BhkB,KAAK2Y,IAAI,aAAc,CACrBpY,KAAMA,EACNyjB,OAAQA,IAEV,IAAIa,EAAM7kB,KAAK+jB,SAASxjB,GACL,oBAARskB,GAAoBA,EAAIb,KAEpC,CACDjjB,IAAK,SACLN,MAAO,SAAgBokB,GACrB7kB,KAAK+jB,SAASd,KAAO4B,IAEtB,CACD9jB,IAAK,SACLN,MAAO,SAAgBokB,GACrB7kB,KAAK+jB,SAASb,KAAO2B,IAEtB,CACD9jB,IAAK,OACLN,MAAO,WACLT,KAAK2Y,IAAI,QAET3Y,KAAKskB,GAAG,CACN/jB,KAAM,OACN+S,UAAW,CACTgR,GAAItkB,KAAKikB,QAAQC,KACjBjB,KAAMjjB,KAAKikB,QAAQE,YAIxB,CACDpjB,IAAK,OACLN,MAAO,WACLT,KAAK2Y,IAAI,QACT3Y,KAAKskB,GAAG,CACN/jB,KAAM,OACN+S,UAAW,CACTgR,GAAItkB,KAAKikB,QAAQE,OACjBlB,KAAMjjB,KAAKikB,QAAQC,UAIxB,CACDnjB,IAAK,MACLN,MAAO,WACL,IAAIujB,EAAS1e,UAAUC,OAAS,QAAsBR,IAAjBO,UAAU,GAAmBA,UAAU,GAAK,GAC7E/E,EAAOyjB,EAAOzjB,KACd8Y,EAAS2K,EAAO3K,OAChBE,EAAUyK,EAAOzK,QACjBL,EAAW8K,EAAO9K,SAEtBlZ,KAAK2Y,IAAI,8BAA+B,CACtCpY,KAAMA,EACN8Y,OAAQA,EACRE,QAASA,EACTL,SAAUA,IAEZlZ,KAAKikB,QAAQC,KAAKjf,KAAK+e,KAExB,CACDjjB,IAAK,YACLia,IAAK,WACH,OAAOhb,KAAK8W,YAAYvW,MAAQ,kBAEjC,CACDQ,IAAK,YACLia,IAAK,WACH,OAAOhb,KAAKwB,YAGTsiB,EAzLW,GA4LpB,SAAS1E,GAAO/d,GACd,IAAIU,EAAUuD,UAAUC,OAAS,QAAsBR,IAAjBO,UAAU,GAAmBA,UAAU,GAAK,GAE9E8Z,GAAO0F,WACTpM,QAAQmH,KAAK,oCAGfnH,QAAQC,IAAI,sBAAuB5W,GACnCmd,GAAW7d,EAAKU,GAGlBqd,GAAO0C,QAAU,QAEjB,IAAIvgB,GAAc6d,GAIhB,EAAO,GAAI,EAAF,aAER,qCAKH5c,EAAQjB,YAAcA,GACtBiB,EAAQ2Z,eAAiBA,GACzB3Z,EAAQkV,YAAcA,EACtBlV,EAAQ6Y,aAAeA,EACvB7Y,EAAQogB,sBAAwBA,GAChCpgB,EAAQ4f,YAAcA,GACtB5f,EAAQshB,cAAgBA,Q","file":"js/chunk-30452446.eba8dc86.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('section',{staticClass:\"dragula\"},[_vm._m(0),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-12 grid-margin\"},[_c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-body\"},[_c('h4',{staticClass:\"card-title\"},[_vm._v(\"Simple Dragula\")]),_c('div',{staticClass:\"examples\"},[_c('div',{staticClass:\"parent\"},[_c('p',{staticClass:\"card-description\"},[_vm._v(\"Drag and drop between Team A and Team B\")]),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"container col-md-6\"},[_c('h6',{staticClass:\"card-title\"},[_vm._v(\"Team A\")]),_c('div',{directives:[{name:\"dragula\",rawName:\"v-dragula\",value:(_vm.colOne),expression:\"colOne\"}],staticClass:\"bg-secondary p-4\",attrs:{\"drake\":\"first\"}},_vm._l((_vm.colOne),function(text){return _c('div',{key:text,on:{\"click\":_vm.onClick}},[_c('div',{staticClass:\"card rounded mb-2\"},[_c('div',{staticClass:\"card-body p-3\"},[_c('div',{staticClass:\"media\"},[_c('div',{staticClass:\"d-flex\"},[_c('div',[_c('h6',{staticClass:\"mb-1\"},[_vm._v(_vm._s(text))])])])])])])])}),0)]),_c('div',{staticClass:\"container col-md-6\"},[_c('h6',{staticClass:\"card-title mt-3 mt-sm-0\"},[_vm._v(\"Team B\")]),_c('div',{directives:[{name:\"dragula\",rawName:\"v-dragula\",value:(_vm.colTwo),expression:\"colTwo\"}],staticClass:\"bg-secondary p-4\",attrs:{\"drake\":\"first\"}},_vm._l((_vm.colTwo),function(text){return _c('div',{key:text},[_c('div',{staticClass:\"card rounded mb-2\"},[_c('div',{staticClass:\"card-body p-3\"},[_c('div',{staticClass:\"media\"},[_c('div',{staticClass:\"d-flex\"},[_c('div',[_c('h6',{staticClass:\"mb-1\"},[_vm._v(_vm._s(text))])])])])])])])}),0)])])])])])])])])])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"page-header\"},[_c('h3',{staticClass:\"page-title\"},[_vm._v(\" Dragula \")]),_c('nav',{attrs:{\"aria-label\":\"breadcrumb\"}},[_c('ol',{staticClass:\"breadcrumb\"},[_c('li',{staticClass:\"breadcrumb-item\"},[_c('a',{attrs:{\"href\":\"javascript:void(0);\"}},[_vm._v(\"UI Elements\")])]),_c('li',{staticClass:\"breadcrumb-item active\",attrs:{\"aria-current\":\"page\"}},[_vm._v(\"Dragula\")])])])])\n}]\n\nexport { render, staticRenderFns }","<template>\r\n\r\n  <section class=\"dragula\">\r\n    <div class=\"page-header\">\r\n      <h3 class=\"page-title\">\r\n        Dragula\r\n      </h3>\r\n      <nav aria-label=\"breadcrumb\">\r\n        <ol class=\"breadcrumb\">\r\n          <li class=\"breadcrumb-item\"><a href=\"javascript:void(0);\">UI Elements</a></li>\r\n          <li class=\"breadcrumb-item active\" aria-current=\"page\">Dragula</li>\r\n        </ol>\r\n      </nav>\r\n    </div>\r\n    <div class=\"row\">\r\n      <div class=\"col-md-12 grid-margin\">\r\n        <div class=\"card\">\r\n          <div class=\"card-body\">\r\n            <h4 class=\"card-title\">Simple Dragula</h4>\r\n            <div class=\"examples\">\r\n                <div class=\"parent\">\r\n                  <p class=\"card-description\">Drag and drop between Team A and Team B</p>\r\n                  <div class=\"row\">\r\n                    <div class=\"container col-md-6\">\r\n                      <h6 class=\"card-title\">Team A</h6>\r\n                      <div class=\"bg-secondary p-4\"  v-dragula=\"colOne\" drake=\"first\">\r\n                        <div v-for=\"text in colOne\" :key=\"text\"  @click=\"onClick\">\r\n                          <div class=\"card rounded mb-2\">\r\n                            <div class=\"card-body p-3\">\r\n                              <div class=\"media\">\r\n                                <div class=\"d-flex\">\r\n                                  <div>\r\n                                    <h6 class=\"mb-1\">{{text}}</h6>\r\n                                  </div>\r\n                                </div>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                    <div class=\"container col-md-6\">\r\n                      <h6 class=\"card-title  mt-3 mt-sm-0\">Team B</h6>\r\n                      <div class=\"bg-secondary p-4\"  v-dragula=\"colTwo\" drake=\"first\">\r\n                        <div v-for=\"text in colTwo\" :key=\"text\">\r\n                          <div class=\"card rounded mb-2\">\r\n                            <div class=\"card-body p-3\">\r\n                              <div class=\"media\">\r\n                                <div class=\"d-flex\">\r\n                                  <div>\r\n                                    <h6 class=\"mb-1\">{{text}}</h6>\r\n                                  </div>\r\n                                </div>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </section>\r\n\r\n</template>\r\n\r\n<script>\r\nimport Vue from 'vue'\r\nimport { Vue2Dragula } from 'vue2-dragula'\r\n \r\nVue.use(Vue2Dragula, {\r\n  logging: {\r\n    service: true // to only log methods in service (DragulaService)\r\n  }\r\n});\r\nexport default {\r\n  name: 'globalService',\r\n\r\n  data () {\r\n    return {\r\n      colOne: [\r\n        'Rebecca young',\r\n        'Jacob march',\r\n        'Catherine'\r\n      ],\r\n      colTwo: [\r\n        'Keto Philip',\r\n        'Jacob Stephen',\r\n        'March Creg'\r\n      ],\r\n      categories: [\r\n        [1, 2, 3],\r\n        [4, 5, 6]\r\n      ],\r\n    }\r\n  },\r\n  created () {\r\n    // console.log('GLOBAL SERVICE: created')\r\n    let service = this.$dragula.$service\r\n\r\n    // IMPORTANT!! setup empty named drakes matching\r\n    // directive drake configs in template\r\n    // otherwise may (currently) result in conflict\r\n\r\n    service.options('first', {\r\n    })\r\n\r\n    service.options('second', {\r\n    })\r\n\r\n    service.options('third', {\r\n      copy: true\r\n    })\r\n\r\n    // console.log('GLOBAL SERVICE: ready')\r\n  },\r\n  methods: {\r\n    onClick () {\r\n      window.alert('click event')\r\n    },\r\n    testModify () {\r\n      this.categories = [\r\n        ['a', 'b', 'c'],\r\n        ['d', 'e', 'f']\r\n      ]\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./dragula.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./dragula.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./dragula.vue?vue&type=template&id=5ce533cf&\"\nimport script from \"./dragula.vue?vue&type=script&lang=js&\"\nexport * from \"./dragula.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","/*!\n * vue-dragula v2.5.3\n * (c) 2018 Yichang Liu\n * Released under the MIT License.\n */\n(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n\ttypeof define === 'function' && define.amd ? define(['exports'], factory) :\n\t(factory((global.vueDragula = global.vueDragula || {})));\n}(this, function (exports) { 'use strict';\n\n\tvar commonjsGlobal = typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {}\n\n\tfunction interopDefault(ex) {\n\t\treturn ex && typeof ex === 'object' && 'default' in ex ? ex['default'] : ex;\n\t}\n\n\tfunction createCommonjsModule(fn, module) {\n\t\treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n\t}\n\n\tvar atoa = createCommonjsModule(function (module) {\n\t  module.exports = function atoa(a, n) {\n\t    return Array.prototype.slice.call(a, n);\n\t  };\n\t});\n\n\tvar atoa$1 = interopDefault(atoa);\n\nvar require$$1 = Object.freeze({\n\t  default: atoa$1\n\t});\n\n\tvar ticky = createCommonjsModule(function (module) {\n\t  var si = typeof setImmediate === 'function',\n\t      tick;\n\t  if (si) {\n\t    tick = function tick(fn) {\n\t      setImmediate(fn);\n\t    };\n\t  } else if (typeof process !== 'undefined' && process.nextTick) {\n\t    tick = process.nextTick;\n\t  } else {\n\t    tick = function tick(fn) {\n\t      setTimeout(fn, 0);\n\t    };\n\t  }\n\n\t  module.exports = tick;\n\t});\n\n\tvar ticky$1 = interopDefault(ticky);\n\nvar require$$0$1 = Object.freeze({\n\t  default: ticky$1\n\t});\n\n\tvar debounce = createCommonjsModule(function (module) {\n\t  'use strict';\n\n\t  var ticky = interopDefault(require$$0$1);\n\n\t  module.exports = function debounce(fn, args, ctx) {\n\t    if (!fn) {\n\t      return;\n\t    }\n\t    ticky(function run() {\n\t      fn.apply(ctx || null, args || []);\n\t    });\n\t  };\n\t});\n\n\tvar debounce$1 = interopDefault(debounce);\n\nvar require$$0 = Object.freeze({\n\t  default: debounce$1\n\t});\n\n\tvar emitter = createCommonjsModule(function (module) {\n\t  'use strict';\n\n\t  var atoa = interopDefault(require$$1);\n\t  var debounce = interopDefault(require$$0);\n\n\t  module.exports = function emitter(thing, options) {\n\t    var opts = options || {};\n\t    var evt = {};\n\t    if (thing === undefined) {\n\t      thing = {};\n\t    }\n\t    thing.on = function (type, fn) {\n\t      if (!evt[type]) {\n\t        evt[type] = [fn];\n\t      } else {\n\t        evt[type].push(fn);\n\t      }\n\t      return thing;\n\t    };\n\t    thing.once = function (type, fn) {\n\t      fn._once = true; // thing.off(fn) still works!\n\t      thing.on(type, fn);\n\t      return thing;\n\t    };\n\t    thing.off = function (type, fn) {\n\t      var c = arguments.length;\n\t      if (c === 1) {\n\t        delete evt[type];\n\t      } else if (c === 0) {\n\t        evt = {};\n\t      } else {\n\t        var et = evt[type];\n\t        if (!et) {\n\t          return thing;\n\t        }\n\t        et.splice(et.indexOf(fn), 1);\n\t      }\n\t      return thing;\n\t    };\n\t    thing.emit = function () {\n\t      var args = atoa(arguments);\n\t      return thing.emitterSnapshot(args.shift()).apply(this, args);\n\t    };\n\t    thing.emitterSnapshot = function (type) {\n\t      var et = (evt[type] || []).slice(0);\n\t      return function () {\n\t        var args = atoa(arguments);\n\t        var ctx = this || thing;\n\t        if (type === 'error' && opts.throws !== false && !et.length) {\n\t          throw args.length === 1 ? args[0] : args;\n\t        }\n\t        et.forEach(function emitter(listen) {\n\t          if (opts.async) {\n\t            debounce(listen, args, ctx);\n\t          } else {\n\t            listen.apply(ctx, args);\n\t          }\n\t          if (listen._once) {\n\t            thing.off(type, listen);\n\t          }\n\t        });\n\t        return thing;\n\t      };\n\t    };\n\t    return thing;\n\t  };\n\t});\n\n\tvar emitter$1 = interopDefault(emitter);\n\nvar require$$2 = Object.freeze({\n\t  default: emitter$1\n\t});\n\n\tvar index = createCommonjsModule(function (module) {\n\t  var NativeCustomEvent = commonjsGlobal.CustomEvent;\n\n\t  function useNative() {\n\t    try {\n\t      var p = new NativeCustomEvent('cat', { detail: { foo: 'bar' } });\n\t      return 'cat' === p.type && 'bar' === p.detail.foo;\n\t    } catch (e) {}\n\t    return false;\n\t  }\n\n\t  /**\n\t   * Cross-browser `CustomEvent` constructor.\n\t   *\n\t   * https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent.CustomEvent\n\t   *\n\t   * @public\n\t   */\n\n\t  module.exports = useNative() ? NativeCustomEvent :\n\n\t  // IE >= 9\n\t  'function' === typeof document.createEvent ? function CustomEvent(type, params) {\n\t    var e = document.createEvent('CustomEvent');\n\t    if (params) {\n\t      e.initCustomEvent(type, params.bubbles, params.cancelable, params.detail);\n\t    } else {\n\t      e.initCustomEvent(type, false, false, void 0);\n\t    }\n\t    return e;\n\t  } :\n\n\t  // IE <= 8\n\t  function CustomEvent(type, params) {\n\t    var e = document.createEventObject();\n\t    e.type = type;\n\t    if (params) {\n\t      e.bubbles = Boolean(params.bubbles);\n\t      e.cancelable = Boolean(params.cancelable);\n\t      e.detail = params.detail;\n\t    } else {\n\t      e.bubbles = false;\n\t      e.cancelable = false;\n\t      e.detail = void 0;\n\t    }\n\t    return e;\n\t  };\n\t});\n\n\tvar index$1 = interopDefault(index);\n\nvar require$$1$2 = Object.freeze({\n\t  default: index$1\n\t});\n\n\tvar eventmap = createCommonjsModule(function (module) {\n\t  'use strict';\n\n\t  var eventmap = [];\n\t  var eventname = '';\n\t  var ron = /^on/;\n\n\t  for (eventname in commonjsGlobal) {\n\t    if (ron.test(eventname)) {\n\t      eventmap.push(eventname.slice(2));\n\t    }\n\t  }\n\n\t  module.exports = eventmap;\n\t});\n\n\tvar eventmap$1 = interopDefault(eventmap);\n\nvar require$$0$2 = Object.freeze({\n\t  default: eventmap$1\n\t});\n\n\tvar crossvent = createCommonjsModule(function (module) {\n\t  'use strict';\n\n\t  var customEvent = interopDefault(require$$1$2);\n\t  var eventmap = interopDefault(require$$0$2);\n\t  var doc = commonjsGlobal.document;\n\t  var addEvent = addEventEasy;\n\t  var removeEvent = removeEventEasy;\n\t  var hardCache = [];\n\n\t  if (!commonjsGlobal.addEventListener) {\n\t    addEvent = addEventHard;\n\t    removeEvent = removeEventHard;\n\t  }\n\n\t  module.exports = {\n\t    add: addEvent,\n\t    remove: removeEvent,\n\t    fabricate: fabricateEvent\n\t  };\n\n\t  function addEventEasy(el, type, fn, capturing) {\n\t    return el.addEventListener(type, fn, capturing);\n\t  }\n\n\t  function addEventHard(el, type, fn) {\n\t    return el.attachEvent('on' + type, wrap(el, type, fn));\n\t  }\n\n\t  function removeEventEasy(el, type, fn, capturing) {\n\t    return el.removeEventListener(type, fn, capturing);\n\t  }\n\n\t  function removeEventHard(el, type, fn) {\n\t    var listener = unwrap(el, type, fn);\n\t    if (listener) {\n\t      return el.detachEvent('on' + type, listener);\n\t    }\n\t  }\n\n\t  function fabricateEvent(el, type, model) {\n\t    var e = eventmap.indexOf(type) === -1 ? makeCustomEvent() : makeClassicEvent();\n\t    if (el.dispatchEvent) {\n\t      el.dispatchEvent(e);\n\t    } else {\n\t      el.fireEvent('on' + type, e);\n\t    }\n\t    function makeClassicEvent() {\n\t      var e;\n\t      if (doc.createEvent) {\n\t        e = doc.createEvent('Event');\n\t        e.initEvent(type, true, true);\n\t      } else if (doc.createEventObject) {\n\t        e = doc.createEventObject();\n\t      }\n\t      return e;\n\t    }\n\t    function makeCustomEvent() {\n\t      return new customEvent(type, { detail: model });\n\t    }\n\t  }\n\n\t  function wrapperFactory(el, type, fn) {\n\t    return function wrapper(originalEvent) {\n\t      var e = originalEvent || commonjsGlobal.event;\n\t      e.target = e.target || e.srcElement;\n\t      e.preventDefault = e.preventDefault || function preventDefault() {\n\t        e.returnValue = false;\n\t      };\n\t      e.stopPropagation = e.stopPropagation || function stopPropagation() {\n\t        e.cancelBubble = true;\n\t      };\n\t      e.which = e.which || e.keyCode;\n\t      fn.call(el, e);\n\t    };\n\t  }\n\n\t  function wrap(el, type, fn) {\n\t    var wrapper = unwrap(el, type, fn) || wrapperFactory(el, type, fn);\n\t    hardCache.push({\n\t      wrapper: wrapper,\n\t      element: el,\n\t      type: type,\n\t      fn: fn\n\t    });\n\t    return wrapper;\n\t  }\n\n\t  function unwrap(el, type, fn) {\n\t    var i = find(el, type, fn);\n\t    if (i) {\n\t      var wrapper = hardCache[i].wrapper;\n\t      hardCache.splice(i, 1); // free up a tad of memory\n\t      return wrapper;\n\t    }\n\t  }\n\n\t  function find(el, type, fn) {\n\t    var i, item;\n\t    for (i = 0; i < hardCache.length; i++) {\n\t      item = hardCache[i];\n\t      if (item.element === el && item.type === type && item.fn === fn) {\n\t        return i;\n\t      }\n\t    }\n\t  }\n\t});\n\n\tvar crossvent$1 = interopDefault(crossvent);\n\tvar add = crossvent.add;\n\tvar remove = crossvent.remove;\n\tvar fabricate = crossvent.fabricate;\n\nvar require$$1$1 = Object.freeze({\n\t  default: crossvent$1,\n\t  add: add,\n\t  remove: remove,\n\t  fabricate: fabricate\n\t});\n\n\tvar classes = createCommonjsModule(function (module) {\n\t  'use strict';\n\n\t  var cache = {};\n\t  var start = '(?:^|\\\\s)';\n\t  var end = '(?:\\\\s|$)';\n\n\t  function lookupClass(className) {\n\t    var cached = cache[className];\n\t    if (cached) {\n\t      cached.lastIndex = 0;\n\t    } else {\n\t      cache[className] = cached = new RegExp(start + className + end, 'g');\n\t    }\n\t    return cached;\n\t  }\n\n\t  function addClass(el, className) {\n\t    var current = el.className;\n\t    if (!current.length) {\n\t      el.className = className;\n\t    } else if (!lookupClass(className).test(current)) {\n\t      el.className += ' ' + className;\n\t    }\n\t  }\n\n\t  function rmClass(el, className) {\n\t    el.className = el.className.replace(lookupClass(className), ' ').trim();\n\t  }\n\n\t  module.exports = {\n\t    add: addClass,\n\t    rm: rmClass\n\t  };\n\t});\n\n\tvar classes$1 = interopDefault(classes);\n\tvar add$1 = classes.add;\n\tvar rm = classes.rm;\n\nvar require$$0$3 = Object.freeze({\n\t  default: classes$1,\n\t  add: add$1,\n\t  rm: rm\n\t});\n\n\tvar dragula = createCommonjsModule(function (module) {\n\t  'use strict';\n\n\t  var emitter = interopDefault(require$$2);\n\t  var crossvent = interopDefault(require$$1$1);\n\t  var classes = interopDefault(require$$0$3);\n\t  var doc = document;\n\t  var documentElement = doc.documentElement;\n\n\t  function dragula(initialContainers, options) {\n\t    var len = arguments.length;\n\t    if (len === 1 && Array.isArray(initialContainers) === false) {\n\t      options = initialContainers;\n\t      initialContainers = [];\n\t    }\n\t    var _mirror; // mirror image\n\t    var _source; // source container\n\t    var _item; // item being dragged\n\t    var _offsetX; // reference x\n\t    var _offsetY; // reference y\n\t    var _moveX; // reference move x\n\t    var _moveY; // reference move y\n\t    var _initialSibling; // reference sibling when grabbed\n\t    var _currentSibling; // reference sibling now\n\t    var _copy; // item used for copying\n\t    var _renderTimer; // timer for setTimeout renderMirrorImage\n\t    var _lastDropTarget = null; // last container item was over\n\t    var _grabbed; // holds mousedown context until first mousemove\n\n\t    var o = options || {};\n\t    if (o.moves === void 0) {\n\t      o.moves = always;\n\t    }\n\t    if (o.accepts === void 0) {\n\t      o.accepts = always;\n\t    }\n\t    if (o.invalid === void 0) {\n\t      o.invalid = invalidTarget;\n\t    }\n\t    if (o.containers === void 0) {\n\t      o.containers = initialContainers || [];\n\t    }\n\t    if (o.isContainer === void 0) {\n\t      o.isContainer = never;\n\t    }\n\t    if (o.copy === void 0) {\n\t      o.copy = false;\n\t    }\n\t    if (o.copySortSource === void 0) {\n\t      o.copySortSource = false;\n\t    }\n\t    if (o.revertOnSpill === void 0) {\n\t      o.revertOnSpill = false;\n\t    }\n\t    if (o.removeOnSpill === void 0) {\n\t      o.removeOnSpill = false;\n\t    }\n\t    if (o.direction === void 0) {\n\t      o.direction = 'vertical';\n\t    }\n\t    if (o.ignoreInputTextSelection === void 0) {\n\t      o.ignoreInputTextSelection = true;\n\t    }\n\t    if (o.mirrorContainer === void 0) {\n\t      o.mirrorContainer = doc.body;\n\t    }\n\n\t    var drake = emitter({\n\t      containers: o.containers,\n\t      start: manualStart,\n\t      end: end,\n\t      cancel: cancel,\n\t      remove: remove,\n\t      destroy: destroy,\n\t      canMove: canMove,\n\t      dragging: false\n\t    });\n\n\t    if (o.removeOnSpill === true) {\n\t      drake.on('over', spillOver).on('out', spillOut);\n\t    }\n\n\t    events();\n\n\t    return drake;\n\n\t    function isContainer(el) {\n\t      return drake.containers.indexOf(el) !== -1 || o.isContainer(el);\n\t    }\n\n\t    function events(remove) {\n\t      var op = remove ? 'remove' : 'add';\n\t      touchy(documentElement, op, 'mousedown', grab);\n\t      touchy(documentElement, op, 'mouseup', release);\n\t    }\n\n\t    function eventualMovements(remove) {\n\t      var op = remove ? 'remove' : 'add';\n\t      touchy(documentElement, op, 'mousemove', startBecauseMouseMoved);\n\t    }\n\n\t    function movements(remove) {\n\t      var op = remove ? 'remove' : 'add';\n\t      crossvent[op](documentElement, 'selectstart', preventGrabbed); // IE8\n\t      crossvent[op](documentElement, 'click', preventGrabbed);\n\t    }\n\n\t    function destroy() {\n\t      events(true);\n\t      release({});\n\t    }\n\n\t    function preventGrabbed(e) {\n\t      if (_grabbed) {\n\t        e.preventDefault();\n\t      }\n\t    }\n\n\t    function grab(e) {\n\t      _moveX = e.clientX;\n\t      _moveY = e.clientY;\n\n\t      var ignore = whichMouseButton(e) !== 1 || e.metaKey || e.ctrlKey;\n\t      if (ignore) {\n\t        return; // we only care about honest-to-god left clicks and touch events\n\t      }\n\t      var item = e.target;\n\t      var context = canStart(item);\n\t      if (!context) {\n\t        return;\n\t      }\n\t      _grabbed = context;\n\t      eventualMovements();\n\t      if (e.type === 'mousedown') {\n\t        if (isInput(item)) {\n\t          // see also: https://github.com/bevacqua/dragula/issues/208\n\t          item.focus(); // fixes https://github.com/bevacqua/dragula/issues/176\n\t        } else {\n\t          e.preventDefault(); // fixes https://github.com/bevacqua/dragula/issues/155\n\t        }\n\t      }\n\t    }\n\n\t    function startBecauseMouseMoved(e) {\n\t      if (!_grabbed) {\n\t        return;\n\t      }\n\t      if (whichMouseButton(e) === 0) {\n\t        release({});\n\t        return; // when text is selected on an input and then dragged, mouseup doesn't fire. this is our only hope\n\t      }\n\t      // truthy check fixes #239, equality fixes #207\n\t      if (e.clientX !== void 0 && e.clientX === _moveX && e.clientY !== void 0 && e.clientY === _moveY) {\n\t        return;\n\t      }\n\t      if (o.ignoreInputTextSelection) {\n\t        var clientX = getCoord('clientX', e);\n\t        var clientY = getCoord('clientY', e);\n\t        var elementBehindCursor = doc.elementFromPoint(clientX, clientY);\n\t        if (isInput(elementBehindCursor)) {\n\t          return;\n\t        }\n\t      }\n\n\t      var grabbed = _grabbed; // call to end() unsets _grabbed\n\t      eventualMovements(true);\n\t      movements();\n\t      end();\n\t      start(grabbed);\n\n\t      var offset = getOffset(_item);\n\t      _offsetX = getCoord('pageX', e) - offset.left;\n\t      _offsetY = getCoord('pageY', e) - offset.top;\n\n\t      classes.add(_copy || _item, 'gu-transit');\n\t      renderMirrorImage();\n\t      drag(e);\n\t    }\n\n\t    function canStart(item) {\n\t      if (drake.dragging && _mirror) {\n\t        return;\n\t      }\n\t      if (isContainer(item)) {\n\t        return; // don't drag container itself\n\t      }\n\t      var handle = item;\n\t      while (getParent(item) && isContainer(getParent(item)) === false) {\n\t        if (o.invalid(item, handle)) {\n\t          return;\n\t        }\n\t        item = getParent(item); // drag target should be a top element\n\t        if (!item) {\n\t          return;\n\t        }\n\t      }\n\t      var source = getParent(item);\n\t      if (!source) {\n\t        return;\n\t      }\n\t      if (o.invalid(item, handle)) {\n\t        return;\n\t      }\n\n\t      var movable = o.moves(item, source, handle, nextEl(item));\n\t      if (!movable) {\n\t        return;\n\t      }\n\n\t      return {\n\t        item: item,\n\t        source: source\n\t      };\n\t    }\n\n\t    function canMove(item) {\n\t      return !!canStart(item);\n\t    }\n\n\t    function manualStart(item) {\n\t      var context = canStart(item);\n\t      if (context) {\n\t        start(context);\n\t      }\n\t    }\n\n\t    function start(context) {\n\t      if (isCopy(context.item, context.source)) {\n\t        _copy = context.item.cloneNode(true);\n\t        drake.emit('cloned', _copy, context.item, 'copy');\n\t      }\n\n\t      _source = context.source;\n\t      _item = context.item;\n\t      _initialSibling = _currentSibling = nextEl(context.item);\n\n\t      drake.dragging = true;\n\t      drake.emit('drag', _item, _source);\n\t    }\n\n\t    function invalidTarget() {\n\t      return false;\n\t    }\n\n\t    function end() {\n\t      if (!drake.dragging) {\n\t        return;\n\t      }\n\t      var item = _copy || _item;\n\t      drop(item, getParent(item));\n\t    }\n\n\t    function ungrab() {\n\t      _grabbed = false;\n\t      eventualMovements(true);\n\t      movements(true);\n\t    }\n\n\t    function release(e) {\n\t      ungrab();\n\n\t      if (!drake.dragging) {\n\t        return;\n\t      }\n\t      var item = _copy || _item;\n\t      var clientX = getCoord('clientX', e);\n\t      var clientY = getCoord('clientY', e);\n\t      var elementBehindCursor = getElementBehindPoint(_mirror, clientX, clientY);\n\t      var dropTarget = findDropTarget(elementBehindCursor, clientX, clientY);\n\t      if (dropTarget && (_copy && o.copySortSource || !_copy || dropTarget !== _source)) {\n\t        drop(item, dropTarget);\n\t      } else if (o.removeOnSpill) {\n\t        remove();\n\t      } else {\n\t        cancel();\n\t      }\n\t    }\n\n\t    function drop(item, target) {\n\t      var parent = getParent(item);\n\t      if (_copy && o.copySortSource && target === _source) {\n\t        parent.removeChild(_item);\n\t      }\n\t      if (isInitialPlacement(target)) {\n\t        drake.emit('cancel', item, _source, _source);\n\t      } else {\n\t        drake.emit('drop', item, target, _source, _currentSibling);\n\t      }\n\t      cleanup();\n\t    }\n\n\t    function remove() {\n\t      if (!drake.dragging) {\n\t        return;\n\t      }\n\t      var item = _copy || _item;\n\t      var parent = getParent(item);\n\t      if (parent) {\n\t        parent.removeChild(item);\n\t      }\n\t      drake.emit(_copy ? 'cancel' : 'remove', item, parent, _source);\n\t      cleanup();\n\t    }\n\n\t    function cancel(revert) {\n\t      if (!drake.dragging) {\n\t        return;\n\t      }\n\t      var reverts = arguments.length > 0 ? revert : o.revertOnSpill;\n\t      var item = _copy || _item;\n\t      var parent = getParent(item);\n\t      var initial = isInitialPlacement(parent);\n\t      if (initial === false && reverts) {\n\t        if (_copy) {\n\t          if (parent) {\n\t            parent.removeChild(_copy);\n\t          }\n\t        } else {\n\t          _source.insertBefore(item, _initialSibling);\n\t        }\n\t      }\n\t      if (initial || reverts) {\n\t        drake.emit('cancel', item, _source, _source);\n\t      } else {\n\t        drake.emit('drop', item, parent, _source, _currentSibling);\n\t      }\n\t      cleanup();\n\t    }\n\n\t    function cleanup() {\n\t      var item = _copy || _item;\n\t      ungrab();\n\t      removeMirrorImage();\n\t      if (item) {\n\t        classes.rm(item, 'gu-transit');\n\t      }\n\t      if (_renderTimer) {\n\t        clearTimeout(_renderTimer);\n\t      }\n\t      drake.dragging = false;\n\t      if (_lastDropTarget) {\n\t        drake.emit('out', item, _lastDropTarget, _source);\n\t      }\n\t      drake.emit('dragend', item);\n\t      _source = _item = _copy = _initialSibling = _currentSibling = _renderTimer = _lastDropTarget = null;\n\t    }\n\n\t    function isInitialPlacement(target, s) {\n\t      var sibling;\n\t      if (s !== void 0) {\n\t        sibling = s;\n\t      } else if (_mirror) {\n\t        sibling = _currentSibling;\n\t      } else {\n\t        sibling = nextEl(_copy || _item);\n\t      }\n\t      return target === _source && sibling === _initialSibling;\n\t    }\n\n\t    function findDropTarget(elementBehindCursor, clientX, clientY) {\n\t      var target = elementBehindCursor;\n\t      while (target && !accepted()) {\n\t        target = getParent(target);\n\t      }\n\t      return target;\n\n\t      function accepted() {\n\t        var droppable = isContainer(target);\n\t        if (droppable === false) {\n\t          return false;\n\t        }\n\n\t        var immediate = getImmediateChild(target, elementBehindCursor);\n\t        var reference = getReference(target, immediate, clientX, clientY);\n\t        var initial = isInitialPlacement(target, reference);\n\t        if (initial) {\n\t          return true; // should always be able to drop it right back where it was\n\t        }\n\t        return o.accepts(_item, target, _source, reference);\n\t      }\n\t    }\n\n\t    function drag(e) {\n\t      if (!_mirror) {\n\t        return;\n\t      }\n\t      e.preventDefault();\n\n\t      var clientX = getCoord('clientX', e);\n\t      var clientY = getCoord('clientY', e);\n\t      var x = clientX - _offsetX;\n\t      var y = clientY - _offsetY;\n\n\t      _mirror.style.left = x + 'px';\n\t      _mirror.style.top = y + 'px';\n\n\t      var item = _copy || _item;\n\t      var elementBehindCursor = getElementBehindPoint(_mirror, clientX, clientY);\n\t      var dropTarget = findDropTarget(elementBehindCursor, clientX, clientY);\n\t      var changed = dropTarget !== null && dropTarget !== _lastDropTarget;\n\t      if (changed || dropTarget === null) {\n\t        out();\n\t        _lastDropTarget = dropTarget;\n\t        over();\n\t      }\n\t      var parent = getParent(item);\n\t      if (dropTarget === _source && _copy && !o.copySortSource) {\n\t        if (parent) {\n\t          parent.removeChild(item);\n\t        }\n\t        return;\n\t      }\n\t      var reference;\n\t      var immediate = getImmediateChild(dropTarget, elementBehindCursor);\n\t      if (immediate !== null) {\n\t        reference = getReference(dropTarget, immediate, clientX, clientY);\n\t      } else if (o.revertOnSpill === true && !_copy) {\n\t        reference = _initialSibling;\n\t        dropTarget = _source;\n\t      } else {\n\t        if (_copy && parent) {\n\t          parent.removeChild(item);\n\t        }\n\t        return;\n\t      }\n\t      if (reference === null && changed || reference !== item && reference !== nextEl(item)) {\n\t        _currentSibling = reference;\n\t        dropTarget.insertBefore(item, reference);\n\t        drake.emit('shadow', item, dropTarget, _source);\n\t      }\n\t      function moved(type) {\n\t        drake.emit(type, item, _lastDropTarget, _source);\n\t      }\n\t      function over() {\n\t        if (changed) {\n\t          moved('over');\n\t        }\n\t      }\n\t      function out() {\n\t        if (_lastDropTarget) {\n\t          moved('out');\n\t        }\n\t      }\n\t    }\n\n\t    function spillOver(el) {\n\t      classes.rm(el, 'gu-hide');\n\t    }\n\n\t    function spillOut(el) {\n\t      if (drake.dragging) {\n\t        classes.add(el, 'gu-hide');\n\t      }\n\t    }\n\n\t    function renderMirrorImage() {\n\t      if (_mirror) {\n\t        return;\n\t      }\n\t      var rect = _item.getBoundingClientRect();\n\t      _mirror = _item.cloneNode(true);\n\t      _mirror.style.width = getRectWidth(rect) + 'px';\n\t      _mirror.style.height = getRectHeight(rect) + 'px';\n\t      classes.rm(_mirror, 'gu-transit');\n\t      classes.add(_mirror, 'gu-mirror');\n\t      o.mirrorContainer.appendChild(_mirror);\n\t      touchy(documentElement, 'add', 'mousemove', drag);\n\t      classes.add(o.mirrorContainer, 'gu-unselectable');\n\t      drake.emit('cloned', _mirror, _item, 'mirror');\n\t    }\n\n\t    function removeMirrorImage() {\n\t      if (_mirror) {\n\t        classes.rm(o.mirrorContainer, 'gu-unselectable');\n\t        touchy(documentElement, 'remove', 'mousemove', drag);\n\t        getParent(_mirror).removeChild(_mirror);\n\t        _mirror = null;\n\t      }\n\t    }\n\n\t    function getImmediateChild(dropTarget, target) {\n\t      var immediate = target;\n\t      while (immediate !== dropTarget && getParent(immediate) !== dropTarget) {\n\t        immediate = getParent(immediate);\n\t      }\n\t      if (immediate === documentElement) {\n\t        return null;\n\t      }\n\t      return immediate;\n\t    }\n\n\t    function getReference(dropTarget, target, x, y) {\n\t      var horizontal = o.direction === 'horizontal';\n\t      var reference = target !== dropTarget ? inside() : outside();\n\t      return reference;\n\n\t      function outside() {\n\t        // slower, but able to figure out any position\n\t        var len = dropTarget.children.length;\n\t        var i;\n\t        var el;\n\t        var rect;\n\t        for (i = 0; i < len; i++) {\n\t          el = dropTarget.children[i];\n\t          rect = el.getBoundingClientRect();\n\t          if (horizontal && rect.left + rect.width / 2 > x) {\n\t            return el;\n\t          }\n\t          if (!horizontal && rect.top + rect.height / 2 > y) {\n\t            return el;\n\t          }\n\t        }\n\t        return null;\n\t      }\n\n\t      function inside() {\n\t        // faster, but only available if dropped inside a child element\n\t        var rect = target.getBoundingClientRect();\n\t        if (horizontal) {\n\t          return resolve(x > rect.left + getRectWidth(rect) / 2);\n\t        }\n\t        return resolve(y > rect.top + getRectHeight(rect) / 2);\n\t      }\n\n\t      function resolve(after) {\n\t        return after ? nextEl(target) : target;\n\t      }\n\t    }\n\n\t    function isCopy(item, container) {\n\t      return typeof o.copy === 'boolean' ? o.copy : o.copy(item, container);\n\t    }\n\t  }\n\n\t  function touchy(el, op, type, fn) {\n\t    var touch = {\n\t      mouseup: 'touchend',\n\t      mousedown: 'touchstart',\n\t      mousemove: 'touchmove'\n\t    };\n\t    var pointers = {\n\t      mouseup: 'pointerup',\n\t      mousedown: 'pointerdown',\n\t      mousemove: 'pointermove'\n\t    };\n\t    var microsoft = {\n\t      mouseup: 'MSPointerUp',\n\t      mousedown: 'MSPointerDown',\n\t      mousemove: 'MSPointerMove'\n\t    };\n\t    if (commonjsGlobal.navigator.pointerEnabled) {\n\t      crossvent[op](el, pointers[type], fn);\n\t    } else if (commonjsGlobal.navigator.msPointerEnabled) {\n\t      crossvent[op](el, microsoft[type], fn);\n\t    } else {\n\t      crossvent[op](el, touch[type], fn);\n\t      crossvent[op](el, type, fn);\n\t    }\n\t  }\n\n\t  function whichMouseButton(e) {\n\t    if (e.touches !== void 0) {\n\t      return e.touches.length;\n\t    }\n\t    if (e.which !== void 0 && e.which !== 0) {\n\t      return e.which;\n\t    } // see https://github.com/bevacqua/dragula/issues/261\n\t    if (e.buttons !== void 0) {\n\t      return e.buttons;\n\t    }\n\t    var button = e.button;\n\t    if (button !== void 0) {\n\t      // see https://github.com/jquery/jquery/blob/99e8ff1baa7ae341e94bb89c3e84570c7c3ad9ea/src/event.js#L573-L575\n\t      return button & 1 ? 1 : button & 2 ? 3 : button & 4 ? 2 : 0;\n\t    }\n\t  }\n\n\t  function getOffset(el) {\n\t    var rect = el.getBoundingClientRect();\n\t    return {\n\t      left: rect.left + getScroll('scrollLeft', 'pageXOffset'),\n\t      top: rect.top + getScroll('scrollTop', 'pageYOffset')\n\t    };\n\t  }\n\n\t  function getScroll(scrollProp, offsetProp) {\n\t    if (typeof commonjsGlobal[offsetProp] !== 'undefined') {\n\t      return commonjsGlobal[offsetProp];\n\t    }\n\t    if (documentElement.clientHeight) {\n\t      return documentElement[scrollProp];\n\t    }\n\t    return doc.body[scrollProp];\n\t  }\n\n\t  function getElementBehindPoint(point, x, y) {\n\t    var p = point || {};\n\t    var state = p.className;\n\t    var el;\n\t    p.className += ' gu-hide';\n\t    el = doc.elementFromPoint(x, y);\n\t    p.className = state;\n\t    return el;\n\t  }\n\n\t  function never() {\n\t    return false;\n\t  }\n\t  function always() {\n\t    return true;\n\t  }\n\t  function getRectWidth(rect) {\n\t    return rect.width || rect.right - rect.left;\n\t  }\n\t  function getRectHeight(rect) {\n\t    return rect.height || rect.bottom - rect.top;\n\t  }\n\t  function getParent(el) {\n\t    return el.parentNode === doc ? null : el.parentNode;\n\t  }\n\t  function isInput(el) {\n\t    return el.tagName === 'INPUT' || el.tagName === 'TEXTAREA' || el.tagName === 'SELECT' || isEditable(el);\n\t  }\n\t  function isEditable(el) {\n\t    if (!el) {\n\t      return false;\n\t    } // no parents were editable\n\t    if (el.contentEditable === 'false') {\n\t      return false;\n\t    } // stop the lookup\n\t    if (el.contentEditable === 'true') {\n\t      return true;\n\t    } // found a contentEditable element in the chain\n\t    return isEditable(getParent(el)); // contentEditable is set to 'inherit'\n\t  }\n\n\t  function nextEl(el) {\n\t    return el.nextElementSibling || manually();\n\t    function manually() {\n\t      var sibling = el;\n\t      do {\n\t        sibling = sibling.nextSibling;\n\t      } while (sibling && sibling.nodeType !== 1);\n\t      return sibling;\n\t    }\n\t  }\n\n\t  function getEventHost(e) {\n\t    // on touchend event, we have to use `e.changedTouches`\n\t    // see http://stackoverflow.com/questions/7192563/touchend-event-properties\n\t    // see https://github.com/bevacqua/dragula/issues/34\n\t    if (e.targetTouches && e.targetTouches.length) {\n\t      return e.targetTouches[0];\n\t    }\n\t    if (e.changedTouches && e.changedTouches.length) {\n\t      return e.changedTouches[0];\n\t    }\n\t    return e;\n\t  }\n\n\t  function getCoord(coord, e) {\n\t    var host = getEventHost(e);\n\t    var missMap = {\n\t      pageX: 'clientX', // IE8\n\t      pageY: 'clientY' // IE8\n\t    };\n\t    if (coord in missMap && !(coord in host) && missMap[coord] in host) {\n\t      coord = missMap[coord];\n\t    }\n\t    return host[coord];\n\t  }\n\n\t  module.exports = dragula;\n\t});\n\n\tvar dragula$1 = interopDefault(dragula);\n\n\tvar classCallCheck = function (instance, Constructor) {\n\t  if (!(instance instanceof Constructor)) {\n\t    throw new TypeError(\"Cannot call a class as a function\");\n\t  }\n\t};\n\n\tvar createClass = function () {\n\t  function defineProperties(target, props) {\n\t    for (var i = 0; i < props.length; i++) {\n\t      var descriptor = props[i];\n\t      descriptor.enumerable = descriptor.enumerable || false;\n\t      descriptor.configurable = true;\n\t      if (\"value\" in descriptor) descriptor.writable = true;\n\t      Object.defineProperty(target, descriptor.key, descriptor);\n\t    }\n\t  }\n\n\t  return function (Constructor, protoProps, staticProps) {\n\t    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n\t    if (staticProps) defineProperties(Constructor, staticProps);\n\t    return Constructor;\n\t  };\n\t}();\n\n\tvar inherits = function (subClass, superClass) {\n\t  if (typeof superClass !== \"function\" && superClass !== null) {\n\t    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n\t  }\n\n\t  subClass.prototype = Object.create(superClass && superClass.prototype, {\n\t    constructor: {\n\t      value: subClass,\n\t      enumerable: false,\n\t      writable: true,\n\t      configurable: true\n\t    }\n\t  });\n\t  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n\t};\n\n\tvar possibleConstructorReturn = function (self, call) {\n\t  if (!self) {\n\t    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n\t  }\n\n\t  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n\t};\n\n\tvar raf = window.requestAnimationFrame;\n\n\tfunction raffy(fn) {\n\t  raf(function () {\n\t    raf(fn);\n\t  });\n\t}\n\n\tfunction winTimeout(fn) {\n\t  window.setTimeout(fn, 50);\n\t}\n\n\tvar waitForTransition = raf ? raffy : winTimeout;\n\n\tfunction isObject(obj) {\n\t  return obj === Object(obj);\n\t}\n\n\tvar DragHandler = function () {\n\t  function DragHandler(_ref) {\n\t    var ctx = _ref.ctx,\n\t        name = _ref.name,\n\t        drake = _ref.drake,\n\t        options = _ref.options;\n\t    classCallCheck(this, DragHandler);\n\n\t    this.dragElm = null;\n\t    this.dragIndex = null;\n\t    this.dropIndex = null;\n\t    this.sourceModel = null;\n\t    this.logging = ctx.logging;\n\t    this.ctx = ctx;\n\t    this.serviceName = ctx.name;\n\t    this.modelManager = ctx.modelManager;\n\t    this.drake = drake;\n\t    this.name = name;\n\t    this.eventBus = ctx.eventBus;\n\t    this.findModelForContainer = ctx.findModelForContainer.bind(ctx);\n\t    this.domIndexOf = ctx.domIndexOf.bind(ctx);\n\t  }\n\n\t  createClass(DragHandler, [{\n\t    key: 'log',\n\t    value: function log(event) {\n\t      var _console;\n\n\t      if (!this.shouldLog) return;\n\n\t      for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n\t        args[_key - 1] = arguments[_key];\n\t      }\n\n\t      (_console = console).log.apply(_console, [this.clazzName + ' [' + this.name + '] :', event].concat(args));\n\t    }\n\n\t    /**\n\t     * Remove model at drag index\n\t     */\n\n\t  }, {\n\t    key: 'removeModel',\n\t    value: function removeModel() {\n\t      this.log('removeModel', {\n\t        sourceModel: this.sourceModel,\n\t        dragIndex: this.dragIndex\n\t      });\n\t      this.sourceModel.removeAt(this.dragIndex);\n\t    }\n\n\t    /**\n\t     * Drop model on same container\n\t     * Move model from dropIndex to dragIndex\n\t     */\n\n\t  }, {\n\t    key: 'dropModelSame',\n\t    value: function dropModelSame() {\n\t      this.log('dropModelSame', {\n\t        sourceModel: this.sourceModel,\n\t        dragIndex: this.dragIndex,\n\t        dropIndex: this.dropIndex\n\t      });\n\n\t      this.sourceModel.move({\n\t        dropIndex: this.dropIndex,\n\t        dragIndex: this.dragIndex\n\t      });\n\t    }\n\n\t    /**\n\t     * Insert model on targetModel\n\t     * @param {*} targetModel\n\t     * @param {*} dropElmModel\n\t     * @param {*} elements\n\t     */\n\n\t  }, {\n\t    key: 'insertModel',\n\t    value: function insertModel(targetModel, dropElmModel, elements) {\n\t      this.log('insertModel', {\n\t        targetModel: targetModel,\n\t        dropIndex: this.dropIndex,\n\t        dropElmModel: dropElmModel,\n\t        elements: elements\n\t      });\n\n\t      targetModel.insertAt(this.dropIndex, dropElmModel);\n\n\t      this.emit('insertAt', {\n\t        elements: elements,\n\t        targetModel: targetModel,\n\t        transitModel: dropElmModel,\n\t        dragIndex: this.dragIndex,\n\t        dropIndex: this.dropIndex,\n\t        models: {\n\t          source: this.sourceModel,\n\t          target: targetModel,\n\t          transit: dropElmModel\n\t        },\n\t        indexes: {\n\t          source: this.dragIndex,\n\t          target: this.dropIndex\n\t        }\n\t      });\n\t    }\n\n\t    /**\n\t     * If not copy, we remove model from source model after a nice transition\n\t     */\n\n\t  }, {\n\t    key: 'notCopy',\n\t    value: function notCopy() {\n\t      var _this = this;\n\n\t      waitForTransition(function () {\n\t        _this.sourceModel.removeAt(_this.dragIndex);\n\t      });\n\t    }\n\n\t    /**\n\t     * Cancel drop\n\t     * @param {*} target\n\t     */\n\n\t  }, {\n\t    key: 'cancelDrop',\n\t    value: function cancelDrop(target) {\n\t      this.log('No targetModel could be found for target:', {\n\t        target: target\n\t      });\n\t      this.log('in drake:', {\n\t        drake: this.drake\n\t      });\n\t      this.drake.cancel(true);\n\t    }\n\n\t    /**\n\t     * Handle drop model from source to target\n\t     * @param {*} dropElm\n\t     * @param {*} target\n\t     * @param {*} source\n\t     */\n\n\t  }, {\n\t    key: 'dropModelTarget',\n\t    value: function dropModelTarget(dropElm, target, source) {\n\t      this.log('dropModelTarget', {\n\t        dropElm: dropElm,\n\t        target: target,\n\t        source: source\n\t      });\n\t      var notCopy = this.dragElm === dropElm;\n\t      var targetModel = this.getModel(target);\n\t      var dropElmModel = notCopy ? this.dropElmModel() : this.jsonDropElmModel();\n\n\t      if (notCopy) {\n\t        this.notCopy();\n\t      }\n\n\t      if (!targetModel) {\n\t        return this.cancelDrop(target);\n\t      }\n\n\t      var elements = {\n\t        drop: dropElm,\n\t        target: target,\n\t        source: source\n\t      };\n\n\t      this.insertModel(targetModel, dropElmModel, elements);\n\t    }\n\t  }, {\n\t    key: 'dropModel',\n\t    value: function dropModel(dropElm, target, source) {\n\t      this.log('dropModel', {\n\t        dropElm: dropElm,\n\t        target: target,\n\t        source: source\n\t      });\n\t      target === source ? this.dropModelSame() : this.dropModelTarget(dropElm, target, source);\n\t    }\n\t  }, {\n\t    key: 'emit',\n\t    value: function emit(eventName) {\n\t      var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n\t      this.log('emit', {\n\t        eventName: eventName,\n\t        opts: opts\n\t      });\n\t      opts.sourceModel = this.sourceModel;\n\t      opts.name = this.name;\n\t      this.eventBus.$emit(eventName, opts);\n\n\t      this.log('emit service', {\n\t        serviceEventName: serviceEventName,\n\t        eventName: eventName,\n\t        opts: opts\n\t      });\n\t      var serviceEventName = this.serviceName + ':' + eventName;\n\t      this.eventBus.$emit(serviceEventName, opts);\n\t    }\n\n\t    /**\n\t     * Get model from location in\n\t     * @param {*} location\n\t     */\n\n\t  }, {\n\t    key: 'getModel',\n\t    value: function getModel(location) {\n\t      var model = this.findModelForContainer(location, this.drake);\n\t      this.log('getModel', {\n\t        location: location,\n\t        model: model\n\t      });\n\n\t      return this.modelManager.createFor({\n\t        name: this.name,\n\t        drake: this.drake,\n\t        logging: this.logging,\n\t        model: model\n\t      });\n\t    }\n\n\t    /**\n\t     * Remov element from container in source\n\t     * @param {*} el\n\t     * @param {*} container\n\t     * @param {*} source\n\t     */\n\n\t  }, {\n\t    key: 'remove',\n\t    value: function remove(el, container, source) {\n\t      this.log('remove', {\n\t        el: el,\n\t        container: container,\n\t        source: source\n\t      });\n\t      if (!this.drake.models) {\n\t        this.log('Warning: Can NOT remove it. Must have models:', this.drake.models);\n\t        return;\n\t      }\n\n\t      this.sourceModel = this.getModel(source);\n\t      this.removeModel();\n\t      this.drake.cancel(true);\n\n\t      this.emit('removeModel', {\n\t        el: el,\n\t        source: source,\n\t        dragIndex: this.dragIndex\n\t      });\n\t    }\n\n\t    /**\n\t     * Handle drag element from source\n\t     * @param {*} el\n\t     * @param {*} source\n\t     */\n\n\t  }, {\n\t    key: 'drag',\n\t    value: function drag(el, source) {\n\t      this.log('drag', {\n\t        el: el,\n\t        source: source\n\t      });\n\t      this.dragElm = el;\n\t      this.dragIndex = this.domIndexOf(el, source);\n\t    }\n\n\t    /**\n\t     * Handle drop element from source to target\n\t     * @param {*} dropEl\n\t     * @param {*} target\n\t     * @param {*} source\n\t     */\n\n\t  }, {\n\t    key: 'drop',\n\t    value: function drop(dropEl, target, source) {\n\t      this.log('drop', {\n\t        dropEl: dropEl,\n\t        target: target,\n\t        source: source\n\t      });\n\t      if (!this.drake.models && !target) {\n\t        this.log('Warning: Can NOT drop it. Must have either models:', this.drake.models, ' or target:', target);\n\t        return;\n\t      }\n\t      this.dropIndex = this.domIndexOf(dropEl, target);\n\t      this.sourceModel = this.getModel(source);\n\t      this.dropModel(dropEl, target, source);\n\n\t      this.emit('dropModel', {\n\t        target: target,\n\t        source: source,\n\t        el: dropEl,\n\t        dragIndex: this.dragIndex,\n\t        dropIndex: this.dropIndex\n\t      });\n\t    }\n\t  }, {\n\t    key: 'dropElmModel',\n\t    value: function dropElmModel() {\n\t      return this.sourceModel.at(this.dragIndex);\n\t    }\n\t  }, {\n\t    key: 'jsonDropElmModel',\n\t    value: function jsonDropElmModel() {\n\t      var model = this.sourceModel.at(this.dragIndex);\n\t      var stringable = model ? model.model || model.stringable : model;\n\t      var md = stringable || model;\n\t      if (!isObject(md)) {\n\t        this.log('jsonDropElmModel', 'invalid element model, must be some sort of Object', stringable, model);\n\t      }\n\t      try {\n\t        var jsonStr = JSON.stringify(stringable || model);\n\t        return JSON.parse(jsonStr);\n\t      } catch (e) {\n\t        this.log('jsonDropElmModel', 'JSON stringify/parse error', e);\n\t      }\n\t    }\n\t  }, {\n\t    key: 'clazzName',\n\t    get: function get() {\n\t      return this.constructor.name || 'DragHandler';\n\t    }\n\t  }, {\n\t    key: 'shouldLog',\n\t    get: function get() {\n\t      return this.logging && this.logging.dragHandler;\n\t    }\n\t  }]);\n\t  return DragHandler;\n\t}();\n\n\tvar BaseModelManager = function () {\n\t  function BaseModelManager() {\n\t    var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\t    classCallCheck(this, BaseModelManager);\n\n\t    if (Array.isArray(opts)) {\n\t      opts = {\n\t        model: opts\n\t      };\n\t    }\n\t    opts.drake = opts.drake || {};\n\t    this.opts = opts;\n\t    this.copy = opts.copy || opts.drake.copy;\n\t    this.name = opts.name;\n\t    this.drake = opts.drake;\n\t    this.logging = opts.logging;\n\t    this.logging = opts.logging;\n\t    this.modelRef = opts.model || [];\n\t  }\n\n\t  createClass(BaseModelManager, [{\n\t    key: 'log',\n\t    value: function log(event) {\n\t      var _console;\n\n\t      if (!this.shouldLog) return;\n\n\t      for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n\t        args[_key - 1] = arguments[_key];\n\t      }\n\n\t      (_console = console).log.apply(_console, [this.clazzName + ' [' + this.name + '] :', event].concat(args));\n\t    }\n\t  }, {\n\t    key: 'notYet',\n\t    value: function notYet(name) {\n\t      this.log(name, 'not yet implemented');\n\t    }\n\t  }, {\n\t    key: 'undo',\n\t    value: function undo() {\n\t      this.notYet('undo');\n\t    }\n\t  }, {\n\t    key: 'redo',\n\t    value: function redo() {\n\t      this.notYet('redo');\n\t    }\n\t  }, {\n\t    key: 'at',\n\t    value: function at(index) {\n\t      this.notYet('at');\n\t    }\n\t  }, {\n\t    key: 'clear',\n\t    value: function clear() {\n\t      this.notYet('clear');\n\t    }\n\t  }, {\n\t    key: 'createModel',\n\t    value: function createModel(model) {\n\t      this.notYet('createModel');\n\t    }\n\t  }, {\n\t    key: 'createFor',\n\t    value: function createFor() {\n\t      var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n\t      this.notYet('createFor');\n\t    }\n\t  }, {\n\t    key: 'removeAt',\n\t    value: function removeAt(index) {\n\t      this.notYet('removeAt');\n\t    }\n\t  }, {\n\t    key: 'insertAt',\n\t    value: function insertAt(index, dropModel) {\n\t      this.notYet('removeAt');\n\t    }\n\t  }, {\n\t    key: 'move',\n\t    value: function move(_ref) {\n\t      var dragIndex = _ref.dragIndex,\n\t          dropIndex = _ref.dropIndex;\n\n\t      this.notYet('move');\n\t    }\n\t  }, {\n\t    key: 'clazzName',\n\t    get: function get() {\n\t      return this.constructor.name || 'BaseModelManager';\n\t    }\n\t  }, {\n\t    key: 'shouldLog',\n\t    get: function get() {\n\t      return this.logging && this.logging.modelManager;\n\t    }\n\t  }]);\n\t  return BaseModelManager;\n\t}();\n\n\tvar ModelManager = function (_BaseModelManager) {\n\t  inherits(ModelManager, _BaseModelManager);\n\n\t  function ModelManager() {\n\t    var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\t    classCallCheck(this, ModelManager);\n\n\t    var _this = possibleConstructorReturn(this, (ModelManager.__proto__ || Object.getPrototypeOf(ModelManager)).call(this, opts));\n\n\t    _this.model = _this.createModel(_this.modelRef);\n\t    _this.log('CREATE', opts);\n\t    return _this;\n\t  }\n\n\t  createClass(ModelManager, [{\n\t    key: 'log',\n\t    value: function log(event) {\n\t      var _console;\n\n\t      if (!this.shouldLog) return;\n\n\t      for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n\t        args[_key - 1] = arguments[_key];\n\t      }\n\n\t      (_console = console).log.apply(_console, [this.clazzName + ' [' + this.name + '] :', event].concat(args));\n\t    }\n\t  }, {\n\t    key: 'undo',\n\t    value: function undo() {\n\t      this.log('undo', 'not yet implemented');\n\t    }\n\t  }, {\n\t    key: 'redo',\n\t    value: function redo() {\n\t      this.log('redo', 'not yet implemented');\n\t    }\n\t  }, {\n\t    key: 'at',\n\t    value: function at(index) {\n\t      return this.model.get ? this.model.get(index) : this.model[index];\n\t    }\n\t  }, {\n\t    key: 'clear',\n\t    value: function clear() {\n\t      this.model = this.createModel();\n\t    }\n\t  }, {\n\t    key: 'createModel',\n\t    value: function createModel(model) {\n\t      return this.model || model || [];\n\t    }\n\t  }, {\n\t    key: 'createFor',\n\t    value: function createFor() {\n\t      var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n\t      return new ModelManager(opts);\n\t    }\n\t  }, {\n\t    key: 'removeAt',\n\t    value: function removeAt(index) {\n\t      if (this.copy) return;\n\t      this.log('removeAt', {\n\t        model: this.model,\n\t        index: index\n\t      });\n\t      var splicedModel = this.model.splice(index, 1);\n\t      var removedModel = this.model;\n\n\t      this.log({\n\t        splicedModel: splicedModel,\n\t        removedModel: removedModel\n\t      });\n\t      return splicedModel;\n\t    }\n\t  }, {\n\t    key: 'insertAt',\n\t    value: function insertAt(index, insertModel) {\n\t      this.log('insertAt', {\n\t        model: this.model,\n\t        index: index,\n\t        insertModel: insertModel\n\t      });\n\t      // according to Vue docs, Vue wraps splice method to mutate array in place and update view\n\t      var splicedModel = this.model.splice(index, 0, insertModel);\n\t      var modelAfterInsert = this.model;\n\n\t      this.log('insertAt', {\n\t        splicedModel: splicedModel,\n\t        modelAfterInsert: modelAfterInsert\n\t      });\n\t      return modelAfterInsert;\n\t    }\n\t  }, {\n\t    key: 'move',\n\t    value: function move(_ref) {\n\t      var dragIndex = _ref.dragIndex,\n\t          dropIndex = _ref.dropIndex;\n\n\t      if (this.copy) return;\n\t      this.log('move', {\n\t        model: this.model,\n\t        dragIndex: dragIndex,\n\t        dropIndex: dropIndex\n\t      });\n\t      var splicedRemainder = this.model.splice(dragIndex, 1);\n\t      var remainder = splicedRemainder[0];\n\n\t      var modelAfterRemove = this.model.splice(dropIndex, 0, remainder);\n\t      var movedModel = this.model;\n\n\t      this.log('move', {\n\t        splicedRemainder: splicedRemainder,\n\t        modelAfterRemove: modelAfterRemove,\n\t        movedModel: movedModel\n\t      });\n\t      return modelAfterRemove;\n\t    }\n\t  }, {\n\t    key: 'clazzName',\n\t    get: function get() {\n\t      return this.constructor.name || 'ModelManager';\n\t    }\n\t  }, {\n\t    key: 'shouldLog',\n\t    get: function get() {\n\t      return this.logging && this.logging.modelManager;\n\t    }\n\t  }]);\n\t  return ModelManager;\n\t}(BaseModelManager);\n\n\tif (!dragula$1) {\n\t  throw new Error('[vue-dragula] cannot locate dragula.');\n\t}\n\n\tfunction createDragHandler(_ref) {\n\t  var ctx = _ref.ctx,\n\t      name = _ref.name,\n\t      drake = _ref.drake;\n\n\t  return new DragHandler({\n\t    ctx: ctx,\n\t    name: name,\n\t    drake: drake\n\t  });\n\t}\n\n\tfunction createModelManager(opts) {\n\t  return new ModelManager(opts);\n\t}\n\n\tvar DragulaService = function () {\n\t  function DragulaService() {\n\t    var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\t    classCallCheck(this, DragulaService);\n\t    var name = opts.name,\n\t        eventBus = opts.eventBus,\n\t        drakes = opts.drakes,\n\t        options = opts.options;\n\n\t    options = options || {};\n\t    this.options = options;\n\t    this.logging = options.logging;\n\n\t    this.log('CREATE DragulaService', opts);\n\n\t    this.name = name;\n\t    this.drakes = drakes || {}; // drake store\n\t    this.eventBus = eventBus;\n\t    this.createDragHandler = options.createDragHandler || createDragHandler;\n\t    this.createModelManager = options.createModelManager || createModelManager;\n\n\t    this.modelManager = this.createModelManager(options);\n\n\t    // Dragula events supported\n\t    this.events = ['cancel', 'cloned', 'drag', 'dragend', 'drop', 'out', 'over', 'remove', 'shadow', 'dropModel', 'removeModel', 'accepts', 'moves', 'invalid'];\n\t  }\n\n\t  createClass(DragulaService, [{\n\t    key: 'addEvents',\n\t    value: function addEvents() {\n\t      var _events;\n\n\t      this.events = (_events = this.events).concat.apply(_events, arguments);\n\t    }\n\t  }, {\n\t    key: 'removeEvents',\n\t    value: function removeEvents() {\n\t      for (var _len = arguments.length, eventNames = Array(_len), _key = 0; _key < _len; _key++) {\n\t        eventNames[_key] = arguments[_key];\n\t      }\n\n\t      this.events = this.events.filter(function (name) {\n\t        return eventNames.includes(name);\n\t      });\n\t    }\n\t  }, {\n\t    key: 'createModel',\n\t    value: function createModel() {\n\t      return this.modelManager.createModel();\n\t    }\n\t  }, {\n\t    key: 'log',\n\t    value: function log(event) {\n\t      var _console;\n\n\t      if (!this.shouldLog) return;\n\n\t      for (var _len2 = arguments.length, args = Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n\t        args[_key2 - 1] = arguments[_key2];\n\t      }\n\n\t      (_console = console).log.apply(_console, ['DragulaService [' + this.name + '] :', event].concat(args));\n\t    }\n\t  }, {\n\t    key: 'error',\n\t    value: function error(msg) {\n\t      console.error(msg);\n\t      throw new Error(msg);\n\t    }\n\t  }, {\n\t    key: '_validate',\n\t    value: function _validate(method, name) {\n\t      if (!name) {\n\t        this.error(method + ' must take a drake name as the first argument');\n\t      }\n\t    }\n\t  }, {\n\t    key: 'add',\n\t    value: function add(name, drake) {\n\t      this.log('add (drake)', name, drake);\n\t      this._validate('add', name);\n\t      if (this.find(name)) {\n\t        this.log('existing drakes', this.drakeNames);\n\t        var errMsg = 'Drake named: \"' + name + '\" already exists for this service [' + this.name + '].\\n      Most likely this error in cause by a race condition evaluating multiple template elements with\\n      the v-dragula directive having the same drake name. Please initialise the drake in the created() life cycle hook of the VM to fix this problem.';\n\t        this.error(errMsg);\n\t      }\n\n\t      this.drakes[name] = drake;\n\t      if (drake.models) {\n\t        this.handleModels(name, drake);\n\t      }\n\t      if (!drake.initEvents) {\n\t        this.setupEvents(name, drake);\n\t      }\n\t      return drake;\n\t    }\n\t  }, {\n\t    key: 'find',\n\t    value: function find(name) {\n\t      this.log('find (drake) by name', name);\n\t      this._validate('find', name);\n\t      return this.drakes[name];\n\t    }\n\t  }, {\n\t    key: 'handleModels',\n\t    value: function handleModels(name, drake) {\n\t      this.log('handleModels', name, drake);\n\t      this._validate('handleModels', name);\n\t      if (drake.registered) {\n\t        // do not register events twice\n\t        this.log('handleModels', 'already registered');\n\t        return;\n\t      }\n\n\t      var dragHandler = this.createDragHandler({\n\t        ctx: this,\n\t        name: name,\n\t        drake: drake\n\t      });\n\t      this.log('created dragHandler for service', dragHandler);\n\n\t      drake.on('remove', dragHandler.remove.bind(dragHandler));\n\t      drake.on('drag', dragHandler.drag.bind(dragHandler));\n\t      drake.on('drop', dragHandler.drop.bind(dragHandler));\n\n\t      drake.registered = true;\n\t    }\n\n\t    // convenience to set eventBus handlers via Object\n\n\t  }, {\n\t    key: 'on',\n\t    value: function on() {\n\t      var _this2 = this;\n\n\t      var handlerConfig = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n\t      this.log('on (events) ', handlerConfig);\n\t      Object.keys(handlerConfig).forEach(function (handlerName) {\n\t        var handlerFunction = handlerConfig[handlerName];\n\t        _this2.log('$on', handlerName, handlerFunction);\n\t        _this2.eventBus.$on(handlerName, handlerFunction);\n\t      });\n\t    }\n\t  }, {\n\t    key: 'destroy',\n\t    value: function destroy(name) {\n\t      this.log('destroy (drake) ', name);\n\t      this._validate('destroy', name);\n\t      var drake = this.find(name);\n\t      if (!drake) {\n\t        return;\n\t      }\n\t      drake.destroy();\n\t      this._delete(name);\n\t    }\n\t  }, {\n\t    key: '_delete',\n\t    value: function _delete(name) {\n\t      delete this.drakes[name];\n\t    }\n\t  }, {\n\t    key: 'setOptions',\n\t    value: function setOptions(name, options) {\n\t      this.log('setOptions (drake)', name, options);\n\t      this._validate('setOptions', name);\n\t      var drake = this.add(name, dragula$1(options));\n\t      this.handleModels(name, drake);\n\t      return this;\n\t    }\n\t  }, {\n\t    key: 'calcOpts',\n\t    value: function calcOpts(name, args) {\n\t      function noOpts() {\n\t        return {};\n\t      }\n\t      var argEventMap = this.argsEventMap[name] || this.argsEventMap.defaultEvent || noOpts;\n\t      return argEventMap(args);\n\t    }\n\t  }, {\n\t    key: 'setupEvents',\n\t    value: function setupEvents(name) {\n\t      var drake = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n\t      this.log('setupEvents', name, drake);\n\t      this._validate('setupEvents', name);\n\t      drake.initEvents = true;\n\t      var _this = this;\n\n\t      var emitter = function emitter(type) {\n\t        _this.log('emitter', type);\n\n\t        function replicate() {\n\t          var args = Array.prototype.slice.call(arguments);\n\t          var opts = _this.calcOpts(name, args);\n\t          opts.name = name;\n\t          opts.service = this;\n\t          opts.drake = drake;\n\t          _this.log('eventBus.$emit', type, name, opts);\n\t          _this.eventBus.$emit(type, opts);\n\t          _this.eventBus.$emit(this.name + ':' + type, opts);\n\t        }\n\n\t        drake.on(type, replicate);\n\t      };\n\t      this.events.forEach(emitter);\n\t    }\n\t  }, {\n\t    key: 'domIndexOf',\n\t    value: function domIndexOf(child, parent) {\n\t      return Array.prototype.indexOf.call(parent.children, child);\n\t    }\n\t  }, {\n\t    key: 'findModelForContainer',\n\t    value: function findModelForContainer(container, drake) {\n\t      this.log('findModelForContainer', container, drake);\n\t      return (this.findModelContainerByContainer(container, drake) || {}).model;\n\t    }\n\t  }, {\n\t    key: 'findModelContainerByContainer',\n\t    value: function findModelContainerByContainer(container, drake) {\n\t      if (!drake.models) {\n\t        this.log('findModelContainerByContainer', 'warning: no models found');\n\t        return;\n\t      }\n\t      var found = drake.models.find(function (model) {\n\t        return model.container === container;\n\t      });\n\t      if (!found) {\n\t        this.log('No matching model could be found for container:', container);\n\t        this.log('in drake', drake.name, ' models:', drake.models);\n\t      }\n\t      return found;\n\t    }\n\t  }, {\n\t    key: 'shouldLog',\n\t    get: function get() {\n\t      return this.logging && this.logging.service;\n\t    }\n\t  }, {\n\t    key: 'drakeNames',\n\t    get: function get() {\n\t      return Object.keys(this.drakes);\n\t    }\n\t  }, {\n\t    key: 'argsEventMap',\n\t    get: function get() {\n\t      this._argsEventMap = this._argsEventMap || this.defaultArgsEventMap;\n\t      return this._argsEventMap;\n\t    },\n\t    set: function set(customArgsEventMap) {\n\t      this._argsEventMap = customArgsEventMap;\n\t    }\n\t  }, {\n\t    key: 'defaultArgsEventMap',\n\t    get: function get() {\n\t      return {\n\t        cloned: function cloned(args) {\n\t          return {\n\t            clone: args[0],\n\t            original: args[1],\n\t            type: args[2]\n\t          };\n\t        },\n\t        moves: function moves(args) {\n\t          return {\n\t            el: args[0],\n\t            source: args[1],\n\t            handle: args[2],\n\t            sibling: args[3]\n\t          };\n\t        },\n\t        copy: function copy(args) {\n\t          return {\n\t            el: args[0],\n\t            source: args[1]\n\t          };\n\t        },\n\t        accepts: function accepts(args) {\n\t          return {\n\t            el: args[0],\n\t            target: args[1],\n\t            source: args[2],\n\t            sibling: args[3]\n\t          };\n\t        },\n\t        invalid: function invalid(args) {\n\t          return {\n\t            el: args[0],\n\t            handle: args[1]\n\t          };\n\t        },\n\t        drag: function drag(args) {\n\t          return {\n\t            el: args[0],\n\t            source: args[1]\n\t          };\n\t        },\n\t        dragend: function dragend(args) {\n\t          return {\n\t            el: args[0]\n\t          };\n\t        },\n\t        drop: function drop(args) {\n\t          return {\n\t            el: args[0],\n\t            target: args[1],\n\t            source: args[2],\n\t            sibling: args[3]\n\t          };\n\t        },\n\t        defaultEvent: function defaultEvent(args) {\n\t          return {\n\t            el: args[0],\n\t            container: args[1],\n\t            source: args[2]\n\t          };\n\t        }\n\t      };\n\t    }\n\t  }]);\n\t  return DragulaService;\n\t}();\n\n\tif (!dragula$1) {\n\t  throw new Error('[vue-dragula] cannot locate dragula.');\n\t}\n\n\tvar defaults = {\n\t  createService: function createService(_ref) {\n\t    var name = _ref.name,\n\t        eventBus = _ref.eventBus,\n\t        drakes = _ref.drakes,\n\t        options = _ref.options;\n\n\t    return new DragulaService({\n\t      name: name,\n\t      eventBus: eventBus,\n\t      drakes: drakes,\n\t      options: options\n\t    });\n\t  },\n\t  createEventBus: function createEventBus(Vue) {\n\t    return new Vue();\n\t  }\n\t};\n\n\tfunction isEmpty(str) {\n\t  if (!str) return true;\n\t  if (str.length === 0) return true;\n\t  return false;\n\t}\n\n\tfunction VueDragula (Vue) {\n\t  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n\t  // set full fine-grained logging if true\n\t  if (options.logging === true) {\n\t    options.logging = {\n\t      plugin: true,\n\t      directive: true,\n\t      service: true,\n\t      dragHandler: true\n\t    };\n\t  }\n\n\t  function logPlugin() {\n\t    var _console;\n\n\t    if (!options.logging) return;\n\t    if (!options.logging.plugin) return;\n\n\t    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n\t      args[_key] = arguments[_key];\n\t    }\n\n\t    (_console = console).log.apply(_console, ['vue-dragula plugin'].concat(args));\n\t  }\n\n\t  function logServiceConfig() {\n\t    var _console2;\n\n\t    if (!options.logging) return;\n\t    if (!options.logging.service) return;\n\n\t    for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n\t      args[_key2] = arguments[_key2];\n\t    }\n\n\t    (_console2 = console).log.apply(_console2, ['vue-dragula service config: '].concat(args));\n\t  }\n\n\t  function logDir() {\n\t    var _console3;\n\n\t    if (!options.logging) return;\n\t    if (!options.logging.directive) return;\n\n\t    for (var _len3 = arguments.length, args = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n\t      args[_key3] = arguments[_key3];\n\t    }\n\n\t    (_console3 = console).log.apply(_console3, ['v-dragula directive'].concat(args));\n\t  }\n\n\t  logPlugin('Initializing vue-dragula plugin', options);\n\n\t  var _createService = options.createService || defaults.createService;\n\t  var createEventBus = options.createEventBus || defaults.createEventBus || new Vue();\n\n\t  logPlugin('create eventBus', createEventBus);\n\t  var eventBus = createEventBus(Vue, options);\n\n\t  if (!eventBus) {\n\t    console.warn('Eventbus could not be created');\n\t    throw new Error('Eventbus could not be created');\n\t  }\n\n\t  logPlugin('eventBus created', eventBus);\n\n\t  // global service\n\t  var appService = _createService({\n\t    name: 'global.dragula',\n\t    eventBus: eventBus,\n\t    drakes: options.drakes,\n\t    options: options\n\t  });\n\n\t  var globalName = 'globalDrake';\n\n\t  var Dragula = function () {\n\t    function Dragula(options) {\n\t      classCallCheck(this, Dragula);\n\n\t      this.options = options;\n\n\t      // convenience functions on global service\n\t      this.$service = {\n\t        options: appService.setOptions.bind(appService),\n\t        find: appService.find.bind(appService),\n\t        eventBus: appService.eventBus\n\t        // add default drake on global app service\n\t      };this.$service.options('default', {});\n\n\t      // alias\n\t      this.createServices = this.createService;\n\t    }\n\n\t    createClass(Dragula, [{\n\t      key: 'optionsFor',\n\t      value: function optionsFor(name) {\n\t        var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n\t        this.service(name).setOptions(opts);\n\t        return this;\n\t      }\n\t    }, {\n\t      key: 'createService',\n\t      value: function createService() {\n\t        var _this = this;\n\n\t        var serviceOpts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n\t        logServiceConfig('createService', serviceOpts);\n\n\t        this._serviceMap = this._serviceMap || {};\n\n\t        var names = serviceOpts.names || [];\n\t        var name = serviceOpts.name || [];\n\t        var drakes = serviceOpts.drakes || {};\n\t        var drake = serviceOpts.drake;\n\t        var opts = Object.assign({}, options, serviceOpts);\n\t        names = names.length > 0 ? names : [name];\n\t        var eventBus = serviceOpts.eventBus || appService.eventBus;\n\t        if (!eventBus) {\n\t          console.warn('Eventbus could not be created', eventBus);\n\t        }\n\n\t        logServiceConfig('names', names);\n\t        names.forEach(function (name) {\n\t          var createOpts = {\n\t            name: name,\n\t            eventBus: eventBus,\n\t            options: opts\n\t          };\n\t          logServiceConfig('create DragulaService', name, createOpts);\n\t          _this._serviceMap[name] = _createService(createOpts);\n\n\t          // use 'default' drakes if none specified\n\t          if (!drakes.default) {\n\t            drakes.default = drake || true;\n\t          }\n\n\t          _this.drakesFor(name, drakes);\n\t        });\n\t        return this;\n\t      }\n\t    }, {\n\t      key: 'drakesFor',\n\t      value: function drakesFor(name) {\n\t        var drakes = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n\t        logServiceConfig('drakesFor', name, drakes);\n\t        var service = this.service(name);\n\n\t        if (Array.isArray(drakes)) {\n\t          // turn Array into object of [name]: true\n\t          drakes = drakes.reduce(function (obj, name) {\n\t            obj[name] = true;\n\t            return obj;\n\t          }, {});\n\t        }\n\n\t        Object.keys(drakes).forEach(function (drakeName) {\n\t          var drakeOpts = drakes[drakeName];\n\t          if (drakeOpts === true) {\n\t            drakeOpts = {};\n\t          }\n\n\t          service.setOptions(drakeName, drakeOpts);\n\t        });\n\t        return this;\n\t      }\n\t    }, {\n\t      key: 'on',\n\t      value: function on(name) {\n\t        var _this2 = this;\n\n\t        var handlerConfig = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n\t        logServiceConfig('on', name, handlerConfig);\n\t        if ((typeof name === 'undefined' ? 'undefined' : typeof name) === 'object') {\n\t          handlerConfig = name;\n\t          // add event handlers for all services\n\t          var serviceNames = this.serviceNames;\n\n\t          if (!serviceNames || serviceNames.length < 1) {\n\t            console.warn('vue-dragula: No services found to add events handlers for', this._serviceMap);\n\t            return this;\n\t          }\n\n\t          logServiceConfig('add event handlers for', serviceNames);\n\t          serviceNames.forEach(function (serviceName) {\n\t            _this2.on(serviceName, handlerConfig);\n\t          });\n\t          return this;\n\t        }\n\n\t        var service = this.service(name);\n\t        if (!service) {\n\t          console.warn('vue-dragula: no service ' + name + ' to add event handlers for');\n\t          return this;\n\t        }\n\t        logServiceConfig('service.on', service, handlerConfig);\n\t        service.on(handlerConfig);\n\t        return this;\n\t      }\n\t    }, {\n\t      key: 'service',\n\n\n\t      // return named service or first service\n\t      value: function service(name) {\n\t        if (!this._serviceMap) return;\n\n\t        var found = this._serviceMap[name];\n\t        logServiceConfig('lookup service', name, found);\n\n\t        if (!found) {\n\t          logServiceConfig('not found by name, get default');\n\t          var keys = this.serviceNames;\n\t          if (keys) {\n\t            found = this._serviceMap[keys[0]];\n\t          }\n\t        }\n\t        return found;\n\t      }\n\t    }, {\n\t      key: 'serviceNames',\n\t      get: function get() {\n\t        return Object.keys(this._serviceMap);\n\t      }\n\t    }, {\n\t      key: 'services',\n\t      get: function get() {\n\t        return Object.values(this._serviceMap);\n\t      }\n\t    }]);\n\t    return Dragula;\n\t  }();\n\n\t  Vue.$dragula = new Dragula(options);\n\n\t  var drakeContainers = {};\n\n\t  Vue.prototype.$dragula = Vue.$dragula;\n\n\t  function findService(name, vnode, serviceName) {\n\t    // first try to register on DragulaService of component\n\t    if (vnode) {\n\t      var _dragula = vnode.context.$dragula;\n\t      if (_dragula) {\n\t        logDir('trying to find and use component service');\n\n\t        var componentService = _dragula.service(serviceName);\n\t        if (componentService) {\n\t          logDir('using component service', componentService);\n\t          return componentService;\n\t        }\n\t      }\n\t    }\n\t    logDir('using global service', appService);\n\t    return appService;\n\t  }\n\n\t  function calcNames(name, vnode, ctx) {\n\t    var drakeName = vnode ? vnode.data.attrs.drake : this.params.drake;\n\t    var serviceName = vnode ? vnode.data.attrs.service : this.params.service;\n\n\t    if (drakeName !== undefined && drakeName.length !== 0) {\n\t      name = drakeName;\n\t    }\n\t    drakeName = isEmpty(drakeName) ? 'default' : drakeName;\n\n\t    return {\n\t      name: name,\n\t      drakeName: drakeName,\n\t      serviceName: serviceName\n\t    };\n\t  }\n\n\t  function updateDirective(container, binding, vnode, oldVnode) {\n\t    logDir('updateDirective');\n\t    var newValue = vnode ? binding.value : container;\n\t    if (!newValue) {\n\t      return;\n\t    }\n\n\t    var _calcNames = calcNames(globalName, vnode, this),\n\t        name = _calcNames.name,\n\t        drakeName = _calcNames.drakeName,\n\t        serviceName = _calcNames.serviceName;\n\n\t    var service = findService(name, vnode, serviceName);\n\t    var drake = service.find(drakeName, vnode);\n\n\t    drakeContainers[drakeName] = drakeContainers[drakeName] || [];\n\t    var dc = drakeContainers[drakeName];\n\n\t    // skip if has already been configured (same container in same drake)\n\t    if (dc) {\n\t      var found = dc.find(function (c) {\n\t        return c === container;\n\t      });\n\t      if (found) {\n\t        logDir('already has drake container configured', drakeName, container);\n\t        return;\n\t      }\n\t    }\n\n\t    if (!service) {\n\t      logDir('no service found', name, drakeName);\n\t      return;\n\t    }\n\n\t    if (!drake.models) {\n\t      drake.models = [];\n\t    }\n\n\t    if (!vnode) {\n\t      container = this.el; // Vue 1\n\t    }\n\n\t    var modelContainer = service.findModelContainerByContainer(container, drake);\n\n\t    dc.push(container);\n\n\t    logDir('DATA', {\n\t      service: {\n\t        name: serviceName,\n\t        instance: service\n\t      },\n\t      drake: {\n\t        name: drakeName,\n\t        instance: drake\n\t      },\n\t      container: container,\n\t      modelContainer: modelContainer\n\t    });\n\n\t    if (modelContainer) {\n\t      logDir('set model of container', newValue);\n\t      modelContainer.model = newValue;\n\t    } else {\n\t      logDir('push model and container on drake', newValue, container);\n\t      drake.models.push({\n\t        model: newValue,\n\t        container: container\n\t      });\n\t    }\n\t  }\n\n\t  Vue.directive('dragula', {\n\t    params: ['drake', 'service'],\n\n\t    bind: function bind(container, binding, vnode) {\n\t      logDir('BIND', container, binding, vnode);\n\n\t      var _calcNames2 = calcNames(globalName, vnode, this),\n\t          name = _calcNames2.name,\n\t          drakeName = _calcNames2.drakeName,\n\t          serviceName = _calcNames2.serviceName;\n\n\t      var service = findService(name, vnode, serviceName);\n\t      var drake = service.find(drakeName, vnode);\n\n\t      if (!vnode) {\n\t        container = this.el; // Vue 1\n\t      }\n\n\t      logDir({\n\t        service: {\n\t          name: serviceName,\n\t          instance: service\n\t        },\n\t        drake: {\n\t          name: drakeName,\n\t          instance: drake\n\t        },\n\t        container: container\n\t      });\n\n\t      if (drake) {\n\t        drake.containers.push(container);\n\t        return;\n\t      }\n\t      var newDrake = dragula$1({\n\t        containers: [container]\n\t      });\n\t      service.add(name, newDrake);\n\n\t      service.handleModels(name, newDrake);\n\t    },\n\t    update: function update(container, binding, vnode, oldVnode) {\n\t      logDir('UPDATE', container, binding, vnode);\n\t      // Vue 1\n\t      if (Vue.version === 1) {\n\t        updateDirective(container, binding, vnode, oldVnode);\n\t      }\n\t    },\n\t    componentUpdated: function componentUpdated(container, binding, vnode, oldVnode) {\n\t      logDir('COMPONENT UPDATED', container, binding, vnode);\n\t    },\n\t    inserted: function inserted(container, binding, vnode, oldVnode) {\n\t      logDir('INSERTED', container, binding, vnode);\n\t      // Vue 2\n\t      updateDirective(container, binding, vnode, oldVnode);\n\t    },\n\t    unbind: function unbind(container, binding, vnode) {\n\t      logDir('UNBIND', container, binding, vnode);\n\n\t      var _calcNames3 = calcNames(globalName, vnode, this),\n\t          name = _calcNames3.name,\n\t          drakeName = _calcNames3.drakeName,\n\t          serviceName = _calcNames3.serviceName;\n\n\t      var service = findService(name, vnode, serviceName);\n\t      var drake = service.find(drakeName, vnode);\n\n\t      logDir({\n\t        service: {\n\t          name: serviceName,\n\t          instance: service\n\t        },\n\t        drake: {\n\t          name: drakeName,\n\t          instance: drake\n\t        },\n\t        container: container\n\t      });\n\n\t      if (!drake) {\n\t        return;\n\t      }\n\n\t      var containerIndex = drake.containers.indexOf(container);\n\n\t      if (containerIndex > -1) {\n\t        logDir('remove container', containerIndex);\n\t        drake.containers.splice(containerIndex, 1);\n\t      }\n\n\t      if (drake.containers.length === 0) {\n\t        logDir('destroy service');\n\t        service.destroy(name);\n\t      }\n\t    }\n\t  });\n\t}\n\n\tvar TimeMachine = function () {\n\t  function TimeMachine(_ref) {\n\t    var name = _ref.name,\n\t        model = _ref.model,\n\t        modelRef = _ref.modelRef,\n\t        history = _ref.history,\n\t        logging = _ref.logging;\n\t    classCallCheck(this, TimeMachine);\n\n\t    this.name = name || 'default';\n\t    this.model = model;\n\t    this.modelRef = modelRef;\n\t    this.logging = logging;\n\t    this.history = history || this.createHistory();\n\t    this.history.push(this.model);\n\t    this.timeIndex = 0;\n\t  }\n\n\t  createClass(TimeMachine, [{\n\t    key: 'log',\n\t    value: function log(event) {\n\t      var _console;\n\n\t      if (!this.shouldLog) return;\n\n\t      for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n\t        args[_key - 1] = arguments[_key];\n\t      }\n\n\t      (_console = console).log.apply(_console, [this.clazzName + ' [' + this.name + '] :', event].concat(args));\n\t    }\n\t  }, {\n\t    key: 'createHistory',\n\t    value: function createHistory() {\n\t      return this.history || [];\n\t    }\n\t  }, {\n\t    key: 'timeTravel',\n\t    value: function timeTravel(index) {\n\t      this.log('timeTravel to', index);\n\t      this.model = this.history[index];\n\t      this.updateModelRef();\n\t      return this;\n\t    }\n\t  }, {\n\t    key: 'updateModelRef',\n\t    value: function updateModelRef() {\n\t      var _this = this;\n\n\t      // this.modelRef = mutable\n\t      // this.log('set modelRef', this.modelRef, this.model)\n\t      this.modelRef.splice(0, this.modelRef.length);\n\t      this.model.forEach(function (item) {\n\t        _this.modelRef.push(item);\n\t      });\n\t    }\n\t  }, {\n\t    key: 'undo',\n\t    value: function undo() {\n\t      this.log('undo timeIndex', this.timeIndex);\n\t      if (this.timeIndex === 0) {\n\t        return false;\n\t      }\n\t      this.timeIndex--;\n\t      this.timeTravel(this.timeIndex);\n\t      return this;\n\t    }\n\t  }, {\n\t    key: 'redo',\n\t    value: function redo() {\n\t      this.log('redo timeIndex', this.timeIndex, this.history.length);\n\t      if (this.timeIndex > this.history.length - 1) {\n\t        return false;\n\t      }\n\t      this.timeIndex++;\n\t      this.timeTravel(this.timeIndex);\n\t      return this;\n\t    }\n\t  }, {\n\t    key: 'addToHistory',\n\t    value: function addToHistory(newModel) {\n\t      this.log('addToHistory');\n\t      this.log('old', this.model);\n\t      this.log('new', newModel);\n\t      this.model = newModel;\n\t      this.log('model was set to', this.model);\n\t      this.history.push(newModel);\n\t      this.timeIndex++;\n\t      this.updateModelRef();\n\t      return this;\n\t    }\n\t  }, {\n\t    key: 'shouldLog',\n\t    get: function get() {\n\t      return this.logging && this.logging.modelManager;\n\t    }\n\t  }, {\n\t    key: 'clazzName',\n\t    get: function get() {\n\t      return this.constructor.name || 'TimeMachine';\n\t    }\n\t  }]);\n\t  return TimeMachine;\n\t}();\n\n\tvar createDefaultTimeMachine = function createDefaultTimeMachine(opts) {\n\t  return new TimeMachine(opts);\n\t};\n\n\tvar ImmutableModelManager = function (_ModelManager) {\n\t  inherits(ImmutableModelManager, _ModelManager);\n\n\t  function ImmutableModelManager() {\n\t    var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\t    classCallCheck(this, ImmutableModelManager);\n\n\t    var _this = possibleConstructorReturn(this, (ImmutableModelManager.__proto__ || Object.getPrototypeOf(ImmutableModelManager)).call(this, opts));\n\n\t    _this.timeOut = opts.timeOut || 800;\n\t    var createTimeMachine = opts.createTimeMachine || createDefaultTimeMachine;\n\t    _this.timeMachine = createTimeMachine(Object.assign(opts, {\n\t      model: _this.model,\n\t      modelRef: _this.modelRef\n\t    }));\n\t    return _this;\n\t  }\n\n\t  createClass(ImmutableModelManager, [{\n\t    key: 'timeTravel',\n\n\n\t    /**\n\t     * Travel to specific point in action history stack\n\t     * @param {*} index\n\t     */\n\t    value: function timeTravel(index) {\n\t      return this.timeMachine.timeTravel(index);\n\t    }\n\n\t    /**\n\t     * Undo previous action from history\n\t     */\n\n\t  }, {\n\t    key: 'undo',\n\t    value: function undo() {\n\t      // this.log('UNDO', this.timeMachine)\n\t      this.timeMachine.undo();\n\t      return this;\n\t    }\n\n\t    /**\n\t     * Redo undone action\n\t     */\n\n\t  }, {\n\t    key: 'redo',\n\t    value: function redo() {\n\t      // this.log('REDO', this.timeMachine)\n\t      this.timeMachine.redo();\n\t      return this;\n\t    }\n\t  }, {\n\t    key: 'addToHistory',\n\t    value: function addToHistory(model) {\n\t      this.timeMachine.addToHistory(model);\n\t      return this;\n\t    }\n\n\t    // override with Immutable\n\n\t  }, {\n\t    key: 'createModel',\n\t    value: function createModel(model) {\n\t      return model || [];\n\t    }\n\n\t    // TODO: add to history!?\n\n\t  }, {\n\t    key: 'createFor',\n\t    value: function createFor() {\n\t      var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n\t      return new ImmutableModelManager(opts);\n\t    }\n\t  }, {\n\t    key: 'isEmpty',\n\t    value: function isEmpty() {\n\t      return this.model.length === 0;\n\t    }\n\t  }, {\n\t    key: 'actionUpdateModel',\n\t    value: function actionUpdateModel(newModel) {\n\t      var _this2 = this;\n\n\t      setTimeout(function () {\n\t        _this2.addToHistory(newModel);\n\t      }, this.timeOut || 800);\n\t    }\n\n\t    /**\n\t     * Removes item at index\n\t     * @param {*} index\n\t     */\n\n\t  }, {\n\t    key: 'removeAt',\n\t    value: function removeAt(index) {\n\t      if (this.copy) return;\n\t      this.log('removeAt', {\n\t        model: this.model,\n\t        index: index\n\t      });\n\t      // create new model with self excluded\n\t      var before = this.model.slice(0, index);\n\t      var exclAfter = this.model.slice(index + 1);\n\n\t      this.log('removeAt: concat', before, exclAfter);\n\t      var newModel = this.createModel().concat(before, exclAfter);\n\n\t      this.actionUpdateModel(newModel);\n\t      return newModel;\n\t    }\n\n\t    /**\n\t     * Inserts a dropModel at specific index\n\t     * NOTE: Copy needs to insert the copied item only, no remove or move involved\n\t     * @param {*} index\n\t     * @param {*} dropModel\n\t     */\n\n\t  }, {\n\t    key: 'insertAt',\n\t    value: function insertAt(index, insertModel) {\n\t      this.log('insertAt', {\n\t        model: this.model,\n\t        index: index,\n\t        insertModel: insertModel\n\t      });\n\n\t      // create new model with new inserted\n\n\t      // Slice off the items BEFORE the insertion index\n\t      var itemsBefore = this.sliceBefore(index);\n\n\t      // Slice off the items ATER the insertion index\n\t      var itemsAfter = this._sliceAfter(index);\n\n\t      this.log('insertAt: concat', {\n\t        itemsBefore: itemsBefore,\n\t        insertModel: insertModel,\n\t        itemsAfter: itemsAfter\n\t      });\n\n\t      var newModel = this._createNewModelFromInsert(itemsBefore, insertModel, itemsAfter);\n\n\t      this.log({\n\t        newModel: newModel\n\t      });\n\n\t      this.actionUpdateModel(newModel);\n\t      return newModel;\n\t    }\n\t  }, {\n\t    key: '_createNewModelFromInsert',\n\t    value: function _createNewModelFromInsert(itemsBefore, insertItem, itemsAfter) {\n\t      return this.createModel().concat(itemsBefore, insertItem, itemsAfter);\n\t    }\n\n\t    /**\n\t     * Slice off the items before the insertion index\n\t     * @param {*} index\n\t     */\n\n\t  }, {\n\t    key: '_sliceBefore',\n\t    value: function _sliceBefore(index) {\n\t      return this.model.slice(0, index);\n\t    }\n\n\t    /**\n\t     * Slice off the items after the insertion index\n\t     * @param {*} index\n\t     */\n\n\t  }, {\n\t    key: '_sliceAfter',\n\t    value: function _sliceAfter(index) {\n\t      this.model.slice(index);\n\t    }\n\n\t    /**\n\t     * Moves item from one index to another\n\t     * NOTE: If we are doing a copy, we should never perform a move (ie. a remove and insert)\n\t     * @param {*} param0\n\t     */\n\n\t  }, {\n\t    key: 'move',\n\t    value: function move(_ref) {\n\t      var dragIndex = _ref.dragIndex,\n\t          dropIndex = _ref.dropIndex;\n\n\t      if (this.copy) return;\n\t      this.log('move', {\n\t        model: this.model,\n\t        dragIndex: dragIndex,\n\t        dropIndex: dropIndex\n\t      });\n\t      this.timeMachine.undo();\n\t      return this;\n\t    }\n\t  }, {\n\t    key: 'clazzName',\n\t    get: function get() {\n\t      return this.constructor.name || 'ImmutableModelManager';\n\t    }\n\t  }, {\n\t    key: 'model',\n\t    get: function get() {\n\t      return this.timeMachine ? this.timeMachine.model : this._model;\n\t    }\n\t  }, {\n\t    key: 'history',\n\t    get: function get() {\n\t      return this.timeMachine.history;\n\t    }\n\t  }, {\n\t    key: 'timeIndex',\n\t    get: function get() {\n\t      return this.timeMachine.timeIndex;\n\t    }\n\t  }, {\n\t    key: 'first',\n\t    get: function get() {\n\t      return this.at(0);\n\t    }\n\t  }, {\n\t    key: 'last',\n\t    get: function get() {\n\t      return this.at(this.model.length - 1);\n\t    }\n\t  }]);\n\t  return ImmutableModelManager;\n\t}(ModelManager);\n\n\tvar ActionManager = function () {\n\t  function ActionManager() {\n\t    var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\t    classCallCheck(this, ActionManager);\n\n\t    this.name = opts.name || 'default';\n\t    this.logging = opts.logging;\n\t    this.observer = {\n\t      undo: function undo(action) {},\n\t      redo: function redo(action) {}\n\t    };\n\n\t    this.actions = {\n\t      // stack of actions to undo\n\t      done: [],\n\t      // stack of actions undone to be redone(via. redo)\n\t      undone: []\n\t    };\n\t  }\n\n\t  createClass(ActionManager, [{\n\t    key: 'log',\n\t    value: function log(event) {\n\t      var _console;\n\n\t      if (!this.shouldLog) return;\n\n\t      for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n\t        args[_key - 1] = arguments[_key];\n\t      }\n\n\t      (_console = console).log.apply(_console, [this.clazzName + ' [' + this.name + '] :', event].concat(args));\n\t    }\n\t  }, {\n\t    key: 'clear',\n\t    value: function clear() {\n\t      this.actions.done = [];\n\t      this.actions.undone = [];\n\t    }\n\n\t    // perform undo/redo on model (container)\n\n\t  }, {\n\t    key: 'doAct',\n\t    value: function doAct(container, action) {\n\t      this.log('doAct', {\n\t        container: container,\n\t        action: action\n\t      });\n\t      var actFun = container[action].bind(container);\n\t      // this.log('doAct', actFun, container, action)\n\t      if (!actFun) {\n\t        throw new Error(container, 'missing', action, 'method');\n\t      }\n\t      actFun();\n\t    }\n\n\t    // if not a copy action, do the action on source container also\n\n\t  }, {\n\t    key: 'isSourceContainerAction',\n\t    value: function isSourceContainerAction(action) {\n\t      return action !== 'copy';\n\t    }\n\t  }, {\n\t    key: 'isTargetContainerAction',\n\t    value: function isTargetContainerAction(action) {\n\t      return true;\n\t    }\n\t  }, {\n\t    key: 'do',\n\t    value: function _do(_ref) {\n\t      var name = _ref.name,\n\t          container = _ref.container;\n\n\t      // this.log(name)\n\t      var cDo = container.do;\n\t      var cUndo = container.undo;\n\t      if (!cDo.length) {\n\t        // this.log('actions empty', cDo)\n\t        return;\n\t      }\n\t      var action = cDo.pop();\n\t      // TODO: use elements, indexes to create visual transition/animation effect\n\t      var models = action.models;\n\n\t      this.log('do', {\n\t        name: name,\n\t        action: action,\n\t        source: source,\n\t        target: target\n\t      });\n\n\t      var source = models.source,\n\t          target = models.target;\n\n\t      // perform one action on source and one on target\n\t      // this could be the cause of the double copy problem\n\t      // since a copy action only takes effect on the target container\n\n\t      if (this.isSourceContainerAction(action)) {\n\t        this.doAct(source, name);\n\t      }\n\t      if (this.isTargetContainerAction(action)) {\n\t        this.doAct(target, name);\n\t      }\n\n\t      this.emitAction(name, action);\n\n\t      cUndo.push(action);\n\t      // this.log('actions undo', cUndo)\n\t    }\n\t  }, {\n\t    key: 'emitAction',\n\t    value: function emitAction(name, action) {\n\t      this.log('emitAction', {\n\t        name: name,\n\t        action: action\n\t      });\n\t      var fun = this.observer[name];\n\t      if (typeof fun === 'function') fun(action);\n\t    }\n\t  }, {\n\t    key: 'onUndo',\n\t    value: function onUndo(fun) {\n\t      this.observer.undo = fun;\n\t    }\n\t  }, {\n\t    key: 'onRedo',\n\t    value: function onRedo(fun) {\n\t      this.observer.redo = fun;\n\t    }\n\t  }, {\n\t    key: 'undo',\n\t    value: function undo() {\n\t      this.log('UNDO');\n\n\t      this.do({\n\t        name: 'undo',\n\t        container: {\n\t          do: this.actions.done,\n\t          undo: this.actions.undone\n\t        }\n\t      });\n\t    }\n\t  }, {\n\t    key: 'redo',\n\t    value: function redo() {\n\t      this.log('REDO');\n\t      this.do({\n\t        name: 'redo',\n\t        container: {\n\t          do: this.actions.undone,\n\t          undo: this.actions.done\n\t        }\n\t      });\n\t    }\n\t  }, {\n\t    key: 'act',\n\t    value: function act() {\n\t      var action = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\t      var name = action.name,\n\t          models = action.models,\n\t          indexes = action.indexes,\n\t          elements = action.elements;\n\n\t      this.log('act (store action on stack)', {\n\t        name: name,\n\t        models: models,\n\t        indexes: indexes,\n\t        elements: elements\n\t      });\n\t      this.actions.done.push(action);\n\t    }\n\t  }, {\n\t    key: 'clazzName',\n\t    get: function get() {\n\t      return this.constructor.name || 'ActionManager';\n\t    }\n\t  }, {\n\t    key: 'shouldLog',\n\t    get: function get() {\n\t      return this.logging;\n\t    }\n\t  }]);\n\t  return ActionManager;\n\t}();\n\n\tfunction plugin(Vue) {\n\t  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n\t  if (plugin.installed) {\n\t    console.warn('[vue-dragula] already installed.');\n\t  }\n\n\t  console.log('Add Dragula plugin:', options);\n\t  VueDragula(Vue, options);\n\t}\n\n\tplugin.version = '2.0.1';\n\n\tvar Vue2Dragula = plugin;\n\n\tif (typeof define === 'function' && define.amd) {\n\t  // eslint-disable-line\n\t  define([], function () {\n\t    plugin;\n\t  }); // eslint-disable-line\n\t} else if (window.Vue) {\n\t  window.Vue.use(plugin);\n\t}\n\n\texports.Vue2Dragula = Vue2Dragula;\n\texports.DragulaService = DragulaService;\n\texports.DragHandler = DragHandler;\n\texports.ModelManager = ModelManager;\n\texports.ImmutableModelManager = ImmutableModelManager;\n\texports.TimeMachine = TimeMachine;\n\texports.ActionManager = ActionManager;\n\n}));"],"sourceRoot":""}